{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'../utils/axios';import{useNotification}from'../context/NotificationContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TransactionForm=_ref=>{let{onTransactionAdded,onTransactionUpdated,onCancel,transaction}=_ref;const{showNotification}=useNotification();const[type,setType]=useState('income');const[category,setCategory]=useState('');const[amount,setAmount]=useState('');const[date,setDate]=useState(new Date().toISOString().split('T')[0]);const[description,setDescription]=useState('');useEffect(()=>{if(transaction){setType(transaction.type);setCategory(transaction.category);setAmount(transaction.amount);setDate(new Date(transaction.date).toISOString().split('T')[0]);setDescription(transaction.description);}},[transaction]);const handleSubmit=async e=>{e.preventDefault();try{const token=localStorage.getItem('token');const config={headers:{'x-auth-token':token}};const transactionData={type,category,amount:parseFloat(amount),date,description};if(transaction){// Update transaction\nawait axios.put(\"/transactions/\".concat(transaction._id),transactionData,config);showNotification('Transaction updated successfully!','success');if(onTransactionUpdated){onTransactionUpdated();}}else{// Create transaction\nawait axios.post('/transactions',transactionData,config);showNotification('Transaction added successfully!','success');if(onTransactionAdded){onTransactionAdded();}}// Clear form\nsetType('income');setCategory('');setAmount('');setDate(new Date().toISOString().split('T')[0]);setDescription('');}catch(err){var _err$response,_err$response$data;showNotification(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.msg)||'Failed to process transaction','error');}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-6 text-gray-800\",children:transaction?'Edit Transaction':'Add Transaction'}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 mb-2\",children:\"Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:type,onChange:e=>setType(e.target.value),className:\"w-full p-2 border rounded text-gray-700\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"income\",children:\"Income\"}),/*#__PURE__*/_jsx(\"option\",{value:\"expense\",children:\"Expense\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 mb-2\",children:\"Category\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:category,onChange:e=>setCategory(e.target.value),className:\"w-full p-2 border rounded text-gray-700\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 mb-2\",children:\"Amount\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:amount,onChange:e=>setAmount(e.target.value),className:\"w-full p-2 border rounded text-gray-700\",required:true,min:\"0\",step:\"0.01\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 mb-2\",children:\"Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:date,onChange:e=>setDate(e.target.value),className:\"w-full p-2 border rounded text-gray-700\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 mb-2\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{value:description,onChange:e=>setDescription(e.target.value),className:\"w-full p-2 border rounded text-gray-700\",rows:\"3\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"flex-1 bg-teal-600 text-white p-2 rounded hover:bg-teal-700 transition duration-200\",children:transaction?'Update Transaction':'Add Transaction'}),onCancel&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onCancel,className:\"flex-1 bg-gray-300 text-gray-800 p-2 rounded hover:bg-gray-400 transition duration-200\",children:\"Cancel\"})]})]})]});};export default TransactionForm;","map":{"version":3,"names":["React","useState","useEffect","axios","useNotification","jsx","_jsx","jsxs","_jsxs","TransactionForm","_ref","onTransactionAdded","onTransactionUpdated","onCancel","transaction","showNotification","type","setType","category","setCategory","amount","setAmount","date","setDate","Date","toISOString","split","description","setDescription","handleSubmit","e","preventDefault","token","localStorage","getItem","config","headers","transactionData","parseFloat","put","concat","_id","post","err","_err$response","_err$response$data","response","data","msg","children","className","onSubmit","value","onChange","target","required","min","step","rows","onClick"],"sources":["C:/Users/vansh patel/OneDrive/Desktop/study/sem5/projects/finaurial/finaurial/src/components/TransactionForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from '../utils/axios';\nimport { useNotification } from '../context/NotificationContext';\n\nconst TransactionForm = ({ onTransactionAdded, onTransactionUpdated, onCancel, transaction }) => {\n  const { showNotification } = useNotification();\n  const [type, setType] = useState('income');\n  const [category, setCategory] = useState('');\n  const [amount, setAmount] = useState('');\n  const [date, setDate] = useState(new Date().toISOString().split('T')[0]);\n  const [description, setDescription] = useState('');\n\n  useEffect(() => {\n    if (transaction) {\n      setType(transaction.type);\n      setCategory(transaction.category);\n      setAmount(transaction.amount);\n      setDate(new Date(transaction.date).toISOString().split('T')[0]);\n      setDescription(transaction.description);\n    }\n  }, [transaction]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const token = localStorage.getItem('token');\n      const config = {\n        headers: {\n          'x-auth-token': token,\n        },\n      };\n\n      const transactionData = {\n        type,\n        category,\n        amount: parseFloat(amount),\n        date,\n        description,\n      };\n\n      if (transaction) {\n        // Update transaction\n        await axios.put(`/transactions/${transaction._id}`, transactionData, config);\n        showNotification('Transaction updated successfully!', 'success');\n        if (onTransactionUpdated) {\n          onTransactionUpdated();\n        }\n      } else {\n        // Create transaction\n        await axios.post('/transactions', transactionData, config);\n        showNotification('Transaction added successfully!', 'success');\n        if (onTransactionAdded) {\n          onTransactionAdded();\n        }\n      }\n\n      // Clear form\n      setType('income');\n      setCategory('');\n      setAmount('');\n      setDate(new Date().toISOString().split('T')[0]);\n      setDescription('');\n\n    } catch (err) {\n      showNotification(err.response?.data?.msg || 'Failed to process transaction', 'error');\n    }\n  };\n\n  return (\n    <div>\n      <h2 className=\"text-2xl font-bold mb-6 text-gray-800\">{transaction ? 'Edit Transaction' : 'Add Transaction'}</h2>\n      \n      <form onSubmit={handleSubmit}>\n        <div className=\"mb-4\">\n          <label className=\"block text-gray-700 mb-2\">Type</label>\n          <select\n            value={type}\n            onChange={(e) => setType(e.target.value)}\n            className=\"w-full p-2 border rounded text-gray-700\"\n          >\n            <option value=\"income\">Income</option>\n            <option value=\"expense\">Expense</option>\n          </select>\n        </div>\n\n        <div className=\"mb-4\">\n          <label className=\"block text-gray-700 mb-2\">Category</label>\n          <input\n            type=\"text\"\n            value={category}\n            onChange={(e) => setCategory(e.target.value)}\n            className=\"w-full p-2 border rounded text-gray-700\"\n            required\n          />\n        </div>\n\n        <div className=\"mb-4\">\n          <label className=\"block text-gray-700 mb-2\">Amount</label>\n          <input\n            type=\"number\"\n            value={amount}\n            onChange={(e) => setAmount(e.target.value)}\n            className=\"w-full p-2 border rounded text-gray-700\"\n            required\n            min=\"0\"\n            step=\"0.01\"\n          />\n        </div>\n\n        <div className=\"mb-4\">\n          <label className=\"block text-gray-700 mb-2\">Date</label>\n          <input\n            type=\"date\"\n            value={date}\n            onChange={(e) => setDate(e.target.value)}\n            className=\"w-full p-2 border rounded text-gray-700\"\n            required\n          />\n        </div>\n\n        <div className=\"mb-6\">\n          <label className=\"block text-gray-700 mb-2\">Description</label>\n          <textarea\n            value={description}\n            onChange={(e) => setDescription(e.target.value)}\n            className=\"w-full p-2 border rounded text-gray-700\"\n            rows=\"3\"\n          />\n        </div>\n\n        <div className=\"flex space-x-4\">\n          <button\n            type=\"submit\"\n            className=\"flex-1 bg-teal-600 text-white p-2 rounded hover:bg-teal-700 transition duration-200\"\n          >\n            {transaction ? 'Update Transaction' : 'Add Transaction'}\n          </button>\n          {onCancel && (\n            <button\n              type=\"button\"\n              onClick={onCancel}\n              className=\"flex-1 bg-gray-300 text-gray-800 p-2 rounded hover:bg-gray-400 transition duration-200\"\n            >\n              Cancel\n            </button>\n          )}\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default TransactionForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}