{"ast":null,"code":"import _objectSpread from\"C:/Users/vansh patel/OneDrive/Desktop/study/sem5/projects/finaurial/finaurial/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback,useMemo,useRef}from'react';import{useNavigate}from'react-router-dom';import axios from'../utils/axios';import{useDebounce}from'../utils/hooks';import TransactionForm from'../components/TransactionForm';import Card from'../components/Card';import{useNotification}from'../context/NotificationContext';import Modal from'react-modal';import Papa from'papaparse';// Set app element for accessibility\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";Modal.setAppElement('#root');const SortIcon=_ref=>{let{direction}=_ref;if(!direction)return null;return direction==='asc'?'↑':'↓';};const TransactionsPage=()=>{const navigate=useNavigate();const{showNotification}=useNotification();// State management\nconst[transactions,setTransactions]=useState([]);const[total,setTotal]=useState(0);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);// Filters and sorting\nconst[filters,setFilters]=useState({type:'',category:'',startDate:'',endDate:''});const[searchTerm,setSearchTerm]=useState('');const[sort,setSort]=useState({field:'date',direction:'desc'});const[pagination,setPagination]=useState({page:1,limit:10});const debouncedSearchTerm=useDebounce(searchTerm,400);// UI state\nconst[isModalOpen,setIsModalOpen]=useState(false);const[editingTransaction,setEditingTransaction]=useState(null);const[isDebugOpen,setIsDebugOpen]=useState(false);const[lastResponse,setLastResponse]=useState(null);const addButtonRef=useRef(null);const queryParams=useMemo(()=>_objectSpread(_objectSpread(_objectSpread({},pagination),filters),{},{search:debouncedSearchTerm,sort:\"\".concat(sort.field,\",\").concat(sort.direction)}),[pagination,filters,debouncedSearchTerm,sort]);const fetchTransactions=useCallback(async function(){let showLoader=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;if(showLoader)setLoading(true);setError(null);if(process.env.NODE_ENV!=='production'){console.debug('[FETCH_START]',{url:'/transactions',params:queryParams});}try{const res=await axios.get('/transactions',{params:queryParams});setTransactions(res.data.data||[]);setTotal(res.data.total||0);if(process.env.NODE_ENV!=='production'){setLastResponse(res.data);console.debug('[FETCH_SUCCESS]',res.data);}}catch(err){var _err$response,_err$response$data;const errorMsg=((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||'Error fetching transactions';setError(errorMsg);showNotification(errorMsg,'error');if(process.env.NODE_ENV!=='production'){console.error('[FETCH_ERROR]',err.response||err);}}finally{if(showLoader)setLoading(false);}},[queryParams,showNotification]);useEffect(()=>{fetchTransactions();},[fetchTransactions]);const handleSort=field=>{setSort(prev=>({field,direction:prev.field===field&&prev.direction==='asc'?'desc':'asc'}));};const handleFilterChange=e=>{const{name,value}=e.target;setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));setPagination(prev=>_objectSpread(_objectSpread({},prev),{},{page:1}));// Reset to first page on filter change\n};const handlePageChange=newPage=>{setPagination(prev=>_objectSpread(_objectSpread({},prev),{},{page:newPage}));};// --- CRUD Handlers with Optimistic UI ---\nconst handleAdd=()=>{setEditingTransaction(null);setIsModalOpen(true);};const handleEdit=transaction=>{setEditingTransaction(transaction);setIsModalOpen(true);};const handleCloseModal=()=>{setIsModalOpen(false);setEditingTransaction(null);if(addButtonRef.current){addButtonRef.current.focus();}};const onTransactionAdded=newTransaction=>{// Optimistic update\nsetTransactions(prev=>[newTransaction,...prev.slice(0,pagination.limit-1)]);setTotal(prev=>prev+1);handleCloseModal();showNotification('Transaction added!','success');// No need to refetch, but if the new item affects sorting/filtering on the *next* page, a refetch might be better.\n// For simplicity, we are just prepending.\n};const onTransactionUpdated=updatedTransaction=>{// Optimistic update\nsetTransactions(prev=>prev.map(t=>t._id===updatedTransaction._id?updatedTransaction:t));handleCloseModal();showNotification('Transaction updated!','success');};const handleDelete=async id=>{if(!window.confirm('Are you sure you want to delete this transaction?'))return;const originalTransactions=[...transactions];const originalTotal=total;// Optimistic delete\nsetTransactions(prev=>prev.filter(t=>t._id!==id));setTotal(prev=>prev-1);try{await axios.delete(\"/transactions/\".concat(id));showNotification('Transaction deleted successfully','success');// If the deletion makes the current page empty and it's not the first page, go to the previous page.\nif(transactions.length===1&&pagination.page>1){handlePageChange(pagination.page-1);}}catch(err){var _err$response2,_err$response2$data;showNotification(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.error)||'Error deleting transaction','error');// Rollback on error\nsetTransactions(originalTransactions);setTotal(originalTotal);}};const handleSeed=async()=>{try{await axios.post('/transactions/seed-sample');showNotification('Sample transaction seeded!','success');fetchTransactions(false);// Refetch without full loader\n}catch(err){showNotification('Failed to seed data.','error');}};const handleExport=async()=>{try{// Fetch all transactions for export\nconst res=await axios.get('/transactions',{params:_objectSpread(_objectSpread({},queryParams),{},{page:1,limit:total})});const csv=Papa.unparse(res.data.data,{columns:['type','category','amount','date','description']});const blob=new Blob([csv],{type:'text/csv;charset=utf-8;'});const link=document.createElement('a');const url=URL.createObjectURL(blob);link.setAttribute('href',url);link.setAttribute('download',\"finaurial-transactions-\".concat(new Date().toISOString().slice(0,10),\".csv\"));document.body.appendChild(link);link.click();document.body.removeChild(link);showNotification('Export successful!','success');}catch(err){showNotification('Failed to export transactions.','error');}};const totalPages=Math.ceil(total/pagination.limit);const renderContent=()=>{if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-10\",children:\"Loading transactions...\"});}if(error){return/*#__PURE__*/_jsxs(Card,{className:\"text-center py-10 bg-red-50 border-red-200\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-red-800\",children:\"Failed to load transactions\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 mb-4\",children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>fetchTransactions(),className:\"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 min-h-[44px]\",children:\"Retry\"})]});}if(transactions.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-10\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-700\",children:\"No transactions found.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Get started by adding a new one.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleAdd,className:\"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 min-h-[44px]\",children:\"Add Transaction\"}),process.env.NODE_ENV!=='production'&&/*#__PURE__*/_jsx(\"button\",{onClick:handleSeed,className:\"bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600 min-h-[44px]\",children:\"Seed Sample Data\"})]})]});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[[{label:'Type',field:'type'},{label:'Category',field:'category'},{label:'Amount',field:'amount'},{label:'Date',field:'date'},{label:'Description',field:'description'}].map(_ref2=>{let{label,field}=_ref2;return/*#__PURE__*/_jsxs(\"th\",{scope:\"col\",onClick:()=>handleSort(field),className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:text-teal-600\",\"aria-sort\":sort.field===field?sort.direction==='asc'?'ascending':'descending':'none',children:[label,\" \",/*#__PURE__*/_jsx(SortIcon,{direction:sort.field===field?sort.direction:null})]},field);}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"relative px-6 py-3\",children:/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Actions\"})})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:transactions.map(t=>{var _t$description,_t$description2;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"span\",{className:\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full \".concat(t.type==='income'?'bg-green-100 text-green-800':'bg-red-100 text-red-800'),children:t.type})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:t.category}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:[\"$\",t.amount.toFixed(2)]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:new Date(t.date).toLocaleDateString()}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",title:t.description,children:[((_t$description=t.description)===null||_t$description===void 0?void 0:_t$description.substring(0,60))||'',((_t$description2=t.description)===null||_t$description2===void 0?void 0:_t$description2.length)>60?'...':'']}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(t),className:\"text-indigo-600 hover:text-indigo-900 mr-4\",\"aria-label\":\"Edit transaction for \".concat(t.category),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(t._id),className:\"text-red-600 hover:text-red-900\",\"aria-label\":\"Delete transaction for \".concat(t.category),children:\"Delete\"})]})]},t._id);})})]})}),totalPages>1&&/*#__PURE__*/_jsxs(\"nav\",{className:\"mt-4 flex justify-between items-center\",\"aria-label\":\"Pagination\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-700\",children:[\"Showing page \",pagination.page,\" of \",totalPages]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handlePageChange(pagination.page-1),disabled:pagination.page<=1,className:\"px-3 py-1 border rounded disabled:opacity-50\",children:\"Previous\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handlePageChange(pagination.page+1),disabled:pagination.page>=totalPages,className:\"px-3 py-1 border rounded disabled:opacity-50\",children:\"Next\"})]})]})]});};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-800\",children:\"Transactions\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleExport,className:\"bg-teal-600 text-white px-4 py-2 rounded hover:bg-teal-700 min-h-[44px]\",children:\"Export CSV\"}),/*#__PURE__*/_jsx(\"button\",{ref:addButtonRef,onClick:handleAdd,className:\"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 min-h-[44px]\",children:\"Add Transaction\"})]})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-4 p-4 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"p-2 border rounded\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"type\",value:filters.type,onChange:handleFilterChange,className:\"p-2 border rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Types\"}),/*#__PURE__*/_jsx(\"option\",{value:\"income\",children:\"Income\"}),/*#__PURE__*/_jsx(\"option\",{value:\"expense\",children:\"Expense\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"category\",placeholder:\"Category...\",value:filters.category,onChange:handleFilterChange,className:\"p-2 border rounded\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"startDate\",value:filters.startDate,onChange:handleFilterChange,className:\"p-2 border rounded\",\"aria-label\":\"Start date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"endDate\",value:filters.endDate,onChange:handleFilterChange,className:\"p-2 border rounded\",\"aria-label\":\"End date\"})]}),renderContent()]}),process.env.NODE_ENV!=='production'&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsDebugOpen(!isDebugOpen),className:\"text-sm text-gray-500\",children:\"Toggle Debug Panel\"}),isDebugOpen&&lastResponse&&/*#__PURE__*/_jsx(Card,{className:\"mt-2 bg-gray-50\",children:/*#__PURE__*/_jsx(\"pre\",{className:\"text-xs overflow-auto max-h-60\",children:/*#__PURE__*/_jsx(\"code\",{children:JSON.stringify(lastResponse,null,2)})})})]}),/*#__PURE__*/_jsx(Modal,{isOpen:isModalOpen,onRequestClose:handleCloseModal,contentLabel:\"Transaction Form\",className:\"bg-white rounded-lg shadow-xl p-6 max-w-lg mx-auto my-16 focus:outline-none\",overlayClassName:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center\",shouldCloseOnOverlayClick:true,children:/*#__PURE__*/_jsx(TransactionForm,{onTransactionAdded:onTransactionAdded,onTransactionUpdated:onTransactionUpdated,onCancel:handleCloseModal,transaction:editingTransaction})})]});};export default TransactionsPage;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","useRef","useNavigate","axios","useDebounce","TransactionForm","Card","useNotification","Modal","Papa","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","setAppElement","SortIcon","_ref","direction","TransactionsPage","navigate","showNotification","transactions","setTransactions","total","setTotal","loading","setLoading","error","setError","filters","setFilters","type","category","startDate","endDate","searchTerm","setSearchTerm","sort","setSort","field","pagination","setPagination","page","limit","debouncedSearchTerm","isModalOpen","setIsModalOpen","editingTransaction","setEditingTransaction","isDebugOpen","setIsDebugOpen","lastResponse","setLastResponse","addButtonRef","queryParams","_objectSpread","search","concat","fetchTransactions","showLoader","arguments","length","undefined","process","env","NODE_ENV","console","debug","url","params","res","get","data","err","_err$response","_err$response$data","errorMsg","response","handleSort","prev","handleFilterChange","e","name","value","target","handlePageChange","newPage","handleAdd","handleEdit","transaction","handleCloseModal","current","focus","onTransactionAdded","newTransaction","slice","onTransactionUpdated","updatedTransaction","map","t","_id","handleDelete","id","window","confirm","originalTransactions","originalTotal","filter","delete","_err$response2","_err$response2$data","handleSeed","post","handleExport","csv","unparse","columns","blob","Blob","link","document","createElement","URL","createObjectURL","setAttribute","Date","toISOString","body","appendChild","click","removeChild","totalPages","Math","ceil","renderContent","className","children","onClick","label","_ref2","scope","_t$description","_t$description2","amount","toFixed","date","toLocaleDateString","title","description","substring","disabled","ref","placeholder","onChange","JSON","stringify","isOpen","onRequestClose","contentLabel","overlayClassName","shouldCloseOnOverlayClick","onCancel"],"sources":["C:/Users/vansh patel/OneDrive/Desktop/study/sem5/projects/finaurial/finaurial/src/pages/TransactionsPage.js"],"sourcesContent":["\nimport React, { useState, useEffect, useCallback, useMemo, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from '../utils/axios';\nimport { useDebounce } from '../utils/hooks';\nimport TransactionForm from '../components/TransactionForm';\nimport Card from '../components/Card';\nimport { useNotification } from '../context/NotificationContext';\nimport Modal from 'react-modal';\nimport Papa from 'papaparse';\n\n// Set app element for accessibility\nModal.setAppElement('#root');\n\nconst SortIcon = ({ direction }) => {\n  if (!direction) return null;\n  return direction === 'asc' ? '↑' : '↓';\n};\n\nconst TransactionsPage = () => {\n  const navigate = useNavigate();\n  const { showNotification } = useNotification();\n  \n  // State management\n  const [transactions, setTransactions] = useState([]);\n  const [total, setTotal] = useState(0);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  \n  // Filters and sorting\n  const [filters, setFilters] = useState({ type: '', category: '', startDate: '', endDate: '' });\n  const [searchTerm, setSearchTerm] = useState('');\n  const [sort, setSort] = useState({ field: 'date', direction: 'desc' });\n  const [pagination, setPagination] = useState({ page: 1, limit: 10 });\n\n  const debouncedSearchTerm = useDebounce(searchTerm, 400);\n\n  // UI state\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [editingTransaction, setEditingTransaction] = useState(null);\n  const [isDebugOpen, setIsDebugOpen] = useState(false);\n  const [lastResponse, setLastResponse] = useState(null);\n\n  const addButtonRef = useRef(null);\n\n  const queryParams = useMemo(() => ({\n    ...pagination,\n    ...filters,\n    search: debouncedSearchTerm,\n    sort: `${sort.field},${sort.direction}`,\n  }), [pagination, filters, debouncedSearchTerm, sort]);\n\n  const fetchTransactions = useCallback(async (showLoader = true) => {\n    if (showLoader) setLoading(true);\n    setError(null);\n    if (process.env.NODE_ENV !== 'production') {\n      console.debug('[FETCH_START]', { url: '/transactions', params: queryParams });\n    }\n    try {\n      const res = await axios.get('/transactions', { params: queryParams });\n      setTransactions(res.data.data || []);\n      setTotal(res.data.total || 0);\n      if (process.env.NODE_ENV !== 'production') {\n        setLastResponse(res.data);\n        console.debug('[FETCH_SUCCESS]', res.data);\n      }\n    } catch (err) {\n      const errorMsg = err.response?.data?.error || 'Error fetching transactions';\n      setError(errorMsg);\n      showNotification(errorMsg, 'error');\n      if (process.env.NODE_ENV !== 'production') {\n        console.error('[FETCH_ERROR]', err.response || err);\n      }\n    } finally {\n      if (showLoader) setLoading(false);\n    }\n  }, [queryParams, showNotification]);\n\n  useEffect(() => {\n    fetchTransactions();\n  }, [fetchTransactions]);\n\n  const handleSort = (field) => {\n    setSort(prev => ({\n      field,\n      direction: prev.field === field && prev.direction === 'asc' ? 'desc' : 'asc',\n    }));\n  };\n\n  const handleFilterChange = (e) => {\n    const { name, value } = e.target;\n    setFilters(prev => ({ ...prev, [name]: value }));\n    setPagination(prev => ({ ...prev, page: 1 })); // Reset to first page on filter change\n  };\n  \n  const handlePageChange = (newPage) => {\n    setPagination(prev => ({ ...prev, page: newPage }));\n  };\n\n  // --- CRUD Handlers with Optimistic UI ---\n\n  const handleAdd = () => {\n    setEditingTransaction(null);\n    setIsModalOpen(true);\n  };\n\n  const handleEdit = (transaction) => {\n    setEditingTransaction(transaction);\n    setIsModalOpen(true);\n  };\n\n  const handleCloseModal = () => {\n    setIsModalOpen(false);\n    setEditingTransaction(null);\n    if (addButtonRef.current) {\n      addButtonRef.current.focus();\n    }\n  };\n\n  const onTransactionAdded = (newTransaction) => {\n    // Optimistic update\n    setTransactions(prev => [newTransaction, ...prev.slice(0, pagination.limit - 1)]);\n    setTotal(prev => prev + 1);\n    handleCloseModal();\n    showNotification('Transaction added!', 'success');\n    // No need to refetch, but if the new item affects sorting/filtering on the *next* page, a refetch might be better.\n    // For simplicity, we are just prepending.\n  };\n\n  const onTransactionUpdated = (updatedTransaction) => {\n    // Optimistic update\n    setTransactions(prev => prev.map(t => t._id === updatedTransaction._id ? updatedTransaction : t));\n    handleCloseModal();\n    showNotification('Transaction updated!', 'success');\n  };\n\n  const handleDelete = async (id) => {\n    if (!window.confirm('Are you sure you want to delete this transaction?')) return;\n\n    const originalTransactions = [...transactions];\n    const originalTotal = total;\n\n    // Optimistic delete\n    setTransactions(prev => prev.filter(t => t._id !== id));\n    setTotal(prev => prev - 1);\n\n    try {\n      await axios.delete(`/transactions/${id}`);\n      showNotification('Transaction deleted successfully', 'success');\n      // If the deletion makes the current page empty and it's not the first page, go to the previous page.\n      if (transactions.length === 1 && pagination.page > 1) {\n        handlePageChange(pagination.page - 1);\n      }\n    } catch (err) {\n      showNotification(err.response?.data?.error || 'Error deleting transaction', 'error');\n      // Rollback on error\n      setTransactions(originalTransactions);\n      setTotal(originalTotal);\n    }\n  };\n  \n  const handleSeed = async () => {\n    try {\n        await axios.post('/transactions/seed-sample');\n        showNotification('Sample transaction seeded!', 'success');\n        fetchTransactions(false); // Refetch without full loader\n    } catch (err) {\n        showNotification('Failed to seed data.', 'error');\n    }\n  };\n\n  const handleExport = async () => {\n    try {\n      // Fetch all transactions for export\n      const res = await axios.get('/transactions', { params: { ...queryParams, page: 1, limit: total } });\n      const csv = Papa.unparse(res.data.data, {\n        columns: ['type', 'category', 'amount', 'date', 'description']\n      });\n      \n      const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\n      const link = document.createElement('a');\n      const url = URL.createObjectURL(blob);\n      link.setAttribute('href', url);\n      link.setAttribute('download', `finaurial-transactions-${new Date().toISOString().slice(0,10)}.csv`);\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      showNotification('Export successful!', 'success');\n    } catch (err) {\n      showNotification('Failed to export transactions.', 'error');\n    }\n  };\n\n  const totalPages = Math.ceil(total / pagination.limit);\n\n  const renderContent = () => {\n    if (loading) {\n      return <div className=\"text-center py-10\">Loading transactions...</div>;\n    }\n    if (error) {\n      return (\n        <Card className=\"text-center py-10 bg-red-50 border-red-200\">\n          <h3 className=\"text-lg font-medium text-red-800\">Failed to load transactions</h3>\n          <p className=\"text-red-600 mb-4\">{error}</p>\n          <button onClick={() => fetchTransactions()} className=\"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 min-h-[44px]\">\n            Retry\n          </button>\n        </Card>\n      );\n    }\n    if (transactions.length === 0) {\n      return (\n        <div className=\"text-center py-10\">\n          <h3 className=\"text-lg font-medium text-gray-700\">No transactions found.</h3>\n          <p className=\"text-sm text-gray-500\">Get started by adding a new one.</p>\n          <div className=\"mt-4 space-x-2\">\n            <button onClick={handleAdd} className=\"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 min-h-[44px]\">\n              Add Transaction\n            </button>\n            {process.env.NODE_ENV !== 'production' && (\n              <button onClick={handleSeed} className=\"bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600 min-h-[44px]\">\n                Seed Sample Data\n              </button>\n            )}\n          </div>\n        </div>\n      );\n    }\n    return (\n      <>\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full divide-y divide-gray-200\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                {[{label: 'Type', field: 'type'}, {label: 'Category', field: 'category'}, {label: 'Amount', field: 'amount'}, {label: 'Date', field: 'date'}, {label: 'Description', field: 'description'}].map(({label, field}) => (\n                  <th key={field} scope=\"col\" onClick={() => handleSort(field)} className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:text-teal-600\" aria-sort={sort.field === field ? (sort.direction === 'asc' ? 'ascending' : 'descending') : 'none'}>\n                    {label} <SortIcon direction={sort.field === field ? sort.direction : null} />\n                  </th>\n                ))}\n                <th scope=\"col\" className=\"relative px-6 py-3\"><span className=\"sr-only\">Actions</span></th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200\">\n              {transactions.map((t) => (\n                <tr key={t._id}>\n                  <td className=\"px-6 py-4 whitespace-nowrap\"><span className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${t.type === 'income' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`}>{t.type}</span></td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{t.category}</td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">${t.amount.toFixed(2)}</td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">{new Date(t.date).toLocaleDateString()}</td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\" title={t.description}>{t.description?.substring(0, 60) || ''}{t.description?.length > 60 ? '...' : ''}</td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                    <button onClick={() => handleEdit(t)} className=\"text-indigo-600 hover:text-indigo-900 mr-4\" aria-label={`Edit transaction for ${t.category}`}>Edit</button>\n                    <button onClick={() => handleDelete(t._id)} className=\"text-red-600 hover:text-red-900\" aria-label={`Delete transaction for ${t.category}`}>Delete</button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n        {totalPages > 1 && (\n          <nav className=\"mt-4 flex justify-between items-center\" aria-label=\"Pagination\">\n            <p className=\"text-sm text-gray-700\">Showing page {pagination.page} of {totalPages}</p>\n            <div className=\"space-x-2\">\n              <button onClick={() => handlePageChange(pagination.page - 1)} disabled={pagination.page <= 1} className=\"px-3 py-1 border rounded disabled:opacity-50\">Previous</button>\n              <button onClick={() => handlePageChange(pagination.page + 1)} disabled={pagination.page >= totalPages} className=\"px-3 py-1 border rounded disabled:opacity-50\">Next</button>\n            </div>\n          </nav>\n        )}\n      </>\n    );\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <h1 className=\"text-3xl font-bold text-gray-800\">Transactions</h1>\n        <div className=\"flex items-center space-x-2\">\n          <button onClick={handleExport} className=\"bg-teal-600 text-white px-4 py-2 rounded hover:bg-teal-700 min-h-[44px]\">Export CSV</button>\n          <button ref={addButtonRef} onClick={handleAdd} className=\"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 min-h-[44px]\">Add Transaction</button>\n        </div>\n      </div>\n\n      <Card>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-4 p-4 bg-gray-50 rounded-lg\">\n          <input type=\"text\" placeholder=\"Search...\" value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} className=\"p-2 border rounded\" />\n          <select name=\"type\" value={filters.type} onChange={handleFilterChange} className=\"p-2 border rounded\"><option value=\"\">All Types</option><option value=\"income\">Income</option><option value=\"expense\">Expense</option></select>\n          <input type=\"text\" name=\"category\" placeholder=\"Category...\" value={filters.category} onChange={handleFilterChange} className=\"p-2 border rounded\" />\n          <input type=\"date\" name=\"startDate\" value={filters.startDate} onChange={handleFilterChange} className=\"p-2 border rounded\" aria-label=\"Start date\" />\n          <input type=\"date\" name=\"endDate\" value={filters.endDate} onChange={handleFilterChange} className=\"p-2 border rounded\" aria-label=\"End date\" />\n        </div>\n        {renderContent()}\n      </Card>\n      \n      {process.env.NODE_ENV !== 'production' && (\n        <div className=\"mt-4\">\n            <button onClick={() => setIsDebugOpen(!isDebugOpen)} className=\"text-sm text-gray-500\">Toggle Debug Panel</button>\n            {isDebugOpen && lastResponse && (\n                <Card className=\"mt-2 bg-gray-50\">\n                    <pre className=\"text-xs overflow-auto max-h-60\"><code>{JSON.stringify(lastResponse, null, 2)}</code></pre>\n                </Card>\n            )}\n        </div>\n      )}\n\n      <Modal\n        isOpen={isModalOpen}\n        onRequestClose={handleCloseModal}\n        contentLabel=\"Transaction Form\"\n        className=\"bg-white rounded-lg shadow-xl p-6 max-w-lg mx-auto my-16 focus:outline-none\"\n        overlayClassName=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center\"\n        shouldCloseOnOverlayClick={true}\n      >\n        <TransactionForm\n          onTransactionAdded={onTransactionAdded}\n          onTransactionUpdated={onTransactionUpdated}\n          onCancel={handleCloseModal}\n          transaction={editingTransaction}\n        />\n      </Modal>\n    </div>\n  );\n};\n\nexport default TransactionsPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}