{"ast":null,"code":"import React,{createContext,useState,useEffect,useContext}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";export const AuthContext=/*#__PURE__*/createContext(null);export const useAuth=()=>useContext(AuthContext);export const AuthProvider=_ref=>{let{children}=_ref;const[token,setToken]=useState(localStorage.getItem('token'));const[user,setUser]=useState(null);useEffect(()=>{if(token){localStorage.setItem('token',token);// In a real app, you would decode the token here to get user info\n// For simplicity, we'll just set a placeholder user\nsetUser({username:'User'});}else{localStorage.removeItem('token');setUser(null);}},[token]);const login=(newToken,userData)=>{setToken(newToken);setUser(userData);};const logout=()=>{setToken(null);setUser(null);};return/*#__PURE__*/_jsx(AuthContext.Provider,{value:{token,user,login,logout},children:children});};","map":{"version":3,"names":["React","createContext","useState","useEffect","useContext","jsx","_jsx","AuthContext","useAuth","AuthProvider","_ref","children","token","setToken","localStorage","getItem","user","setUser","setItem","username","removeItem","login","newToken","userData","logout","Provider","value"],"sources":["C:/Users/vansh patel/OneDrive/Desktop/study/sem5/projects/finaurial/finaurial/src/context/AuthContext.js"],"sourcesContent":["import React, { createContext, useState, useEffect, useContext } from 'react';\n\nexport const AuthContext = createContext(null);\n\nexport const useAuth = () => useContext(AuthContext);\n\nexport const AuthProvider = ({ children }) => {\n  const [token, setToken] = useState(localStorage.getItem('token'));\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    if (token) {\n      localStorage.setItem('token', token);\n      // In a real app, you would decode the token here to get user info\n      // For simplicity, we'll just set a placeholder user\n      setUser({ username: 'User' }); \n    } else {\n      localStorage.removeItem('token');\n      setUser(null);\n    }\n  }, [token]);\n\n  const login = (newToken, userData) => {\n    setToken(newToken);\n    setUser(userData);\n  };\n\n  const logout = () => {\n    setToken(null);\n    setUser(null);\n  };\n\n  return (\n    <AuthContext.Provider value={{ token, user, login, logout }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,QAAQ,CAAEC,SAAS,CAAEC,UAAU,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE9E,MAAO,MAAM,CAAAC,WAAW,cAAGN,aAAa,CAAC,IAAI,CAAC,CAE9C,MAAO,MAAM,CAAAO,OAAO,CAAGA,CAAA,GAAMJ,UAAU,CAACG,WAAW,CAAC,CAEpD,MAAO,MAAM,CAAAE,YAAY,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACvC,KAAM,CAACE,KAAK,CAAEC,QAAQ,CAAC,CAAGX,QAAQ,CAACY,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,CACjE,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CAEtCC,SAAS,CAAC,IAAM,CACd,GAAIS,KAAK,CAAE,CACTE,YAAY,CAACI,OAAO,CAAC,OAAO,CAAEN,KAAK,CAAC,CACpC;AACA;AACAK,OAAO,CAAC,CAAEE,QAAQ,CAAE,MAAO,CAAC,CAAC,CAC/B,CAAC,IAAM,CACLL,YAAY,CAACM,UAAU,CAAC,OAAO,CAAC,CAChCH,OAAO,CAAC,IAAI,CAAC,CACf,CACF,CAAC,CAAE,CAACL,KAAK,CAAC,CAAC,CAEX,KAAM,CAAAS,KAAK,CAAGA,CAACC,QAAQ,CAAEC,QAAQ,GAAK,CACpCV,QAAQ,CAACS,QAAQ,CAAC,CAClBL,OAAO,CAACM,QAAQ,CAAC,CACnB,CAAC,CAED,KAAM,CAAAC,MAAM,CAAGA,CAAA,GAAM,CACnBX,QAAQ,CAAC,IAAI,CAAC,CACdI,OAAO,CAAC,IAAI,CAAC,CACf,CAAC,CAED,mBACEX,IAAA,CAACC,WAAW,CAACkB,QAAQ,EAACC,KAAK,CAAE,CAAEd,KAAK,CAAEI,IAAI,CAAEK,KAAK,CAAEG,MAAO,CAAE,CAAAb,QAAA,CACzDA,QAAQ,CACW,CAAC,CAE3B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}