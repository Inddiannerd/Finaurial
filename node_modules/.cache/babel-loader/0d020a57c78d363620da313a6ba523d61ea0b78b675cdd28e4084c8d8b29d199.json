{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Routes,Route,Navigate,useLocation,BrowserRouter as Router}from'react-router-dom';import'./App.css';import'./index.css';import Layout from'./components/Layout';import LoginForm from'./components/LoginForm';import RegisterForm from'./components/RegisterForm';import Dashboard from'./components/Dashboard';import TransactionForm from'./components/TransactionForm';import BudgetForm from'./components/BudgetForm';import Reports from'./pages/Reports';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[isAuthenticated,setIsAuthenticated]=useState(false);const location=useLocation();useEffect(()=>{const token=localStorage.getItem('token');setIsAuthenticated(!!token);},[]);if(!isAuthenticated&&!['/login','/register'].includes(location.pathname)){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}// Separate public and private routes\nif(!isAuthenticated){return/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(LoginForm,{setIsAuthenticated:setIsAuthenticated})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(RegisterForm,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})})]});}// Protected routes with Layout\nreturn/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsxs(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Layout,{}),children:[/*#__PURE__*/_jsx(Route,{index:true,element:/*#__PURE__*/_jsx(Dashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"add-transaction\",element:/*#__PURE__*/_jsx(TransactionForm,{})}),/*#__PURE__*/_jsx(Route,{path:\"budget\",element:/*#__PURE__*/_jsx(BudgetForm,{})}),/*#__PURE__*/_jsx(Route,{path:\"reports\",element:/*#__PURE__*/_jsx(Reports,{})})]}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true})})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","Routes","Route","Navigate","useLocation","BrowserRouter","Router","Layout","LoginForm","RegisterForm","Dashboard","TransactionForm","BudgetForm","Reports","jsx","_jsx","jsxs","_jsxs","App","isAuthenticated","setIsAuthenticated","location","token","localStorage","getItem","includes","pathname","to","replace","children","path","element","index"],"sources":["C:/Users/vansh patel/OneDrive/Desktop/study/sem5/projects/finaurial/finaurial/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Routes, Route, Navigate, useLocation, BrowserRouter as Router } from 'react-router-dom';\nimport './App.css';\nimport './index.css';\nimport Layout from './components/Layout';\nimport LoginForm from './components/LoginForm';\nimport RegisterForm from './components/RegisterForm';\nimport Dashboard from './components/Dashboard';\nimport TransactionForm from './components/TransactionForm';\nimport BudgetForm from './components/BudgetForm';\nimport Reports from './pages/Reports';\n\nfunction App() {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const location = useLocation();\n\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    setIsAuthenticated(!!token);\n  }, []);\n\n  if (!isAuthenticated && !['/login', '/register'].includes(location.pathname)) {\n    return <Navigate to=\"/login\" replace />;\n  }\n\n  // Separate public and private routes\n  if (!isAuthenticated) {\n    return (\n      <Routes>\n        <Route path=\"/login\" element={<LoginForm setIsAuthenticated={setIsAuthenticated} />} />\n        <Route path=\"/register\" element={<RegisterForm />} />\n        <Route path=\"*\" element={<Navigate to=\"/login\" replace />} />\n      </Routes>\n    );\n  }\n\n  // Protected routes with Layout\n  return (\n    <Routes>\n      <Route path=\"/\" element={<Layout />}>\n        <Route index element={<Dashboard />} />\n        <Route path=\"add-transaction\" element={<TransactionForm />} />\n        <Route path=\"budget\" element={<BudgetForm />} />\n        <Route path=\"reports\" element={<Reports />} />\n      </Route>\n      <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\n    </Routes>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}