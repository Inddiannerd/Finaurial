{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vansh patel\\\\OneDrive\\\\Desktop\\\\study\\\\sem5\\\\projects\\\\finaurial\\\\finaurial\\\\src\\\\pages\\\\TransactionsPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useMemo, useRef } from 'react';\nimport axios from '../utils/axios';\nimport { useDebounce } from '../utils/hooks';\nimport TransactionForm from '../components/TransactionForm';\nimport Card from '../components/Card';\nimport { useNotification } from '../context/NotificationContext';\nimport Modal from 'react-modal';\nimport Papa from 'papaparse';\n\n// Set app element for accessibility\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nModal.setAppElement('#root');\nconst SortIcon = ({\n  direction\n}) => {\n  if (!direction) return null;\n  return direction === 'asc' ? '↑' : '↓';\n};\n_c = SortIcon;\nconst TransactionsPage = () => {\n  _s();\n  const {\n    showNotification\n  } = useNotification();\n\n  // State management\n  const [transactions, setTransactions] = useState([]);\n  const [total, setTotal] = useState(0);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Filters and sorting\n  const [filters, setFilters] = useState({\n    type: '',\n    category: '',\n    startDate: '',\n    endDate: ''\n  });\n  const [searchTerm, setSearchTerm] = useState('');\n  const [sort, setSort] = useState({\n    field: 'date',\n    direction: 'desc'\n  });\n  const [pagination, setPagination] = useState({\n    page: 1,\n    limit: 10\n  });\n  const debouncedSearchTerm = useDebounce(searchTerm, 400);\n\n  // UI state\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [editingTransaction, setEditingTransaction] = useState(null);\n  const [isDebugOpen, setIsDebugOpen] = useState(false);\n  const [lastResponse, setLastResponse] = useState(null);\n  const addButtonRef = useRef(null);\n  const queryParams = useMemo(() => ({\n    ...pagination,\n    ...filters,\n    search: debouncedSearchTerm,\n    sort: `${sort.field},${sort.direction}`\n  }), [pagination, filters, debouncedSearchTerm, sort]);\n  const fetchTransactions = useCallback(async (showLoader = true) => {\n    if (showLoader) setLoading(true);\n    setError(null);\n    if (process.env.NODE_ENV !== 'production') {\n      console.debug('[FETCH_START]', {\n        url: '/transactions',\n        params: queryParams\n      });\n    }\n    try {\n      const res = await axios.get('/transactions', {\n        params: queryParams\n      });\n      setTransactions(res.data.data || []);\n      setTotal(res.data.total || 0);\n      if (process.env.NODE_ENV !== 'production') {\n        setLastResponse(res.data);\n        console.debug('[FETCH_SUCCESS]', res.data);\n      }\n    } catch (err) {\n      var _err$response, _err$response$data;\n      const errorMsg = ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || 'Error fetching transactions';\n      setError(errorMsg);\n      showNotification(errorMsg, 'error');\n      if (process.env.NODE_ENV !== 'production') {\n        console.error('[FETCH_ERROR]', err.response || err);\n      }\n    } finally {\n      if (showLoader) setLoading(false);\n    }\n  }, [queryParams, showNotification]);\n  useEffect(() => {\n    fetchTransactions();\n  }, [fetchTransactions]);\n  const handleSort = field => {\n    setSort(prev => ({\n      field,\n      direction: prev.field === field && prev.direction === 'asc' ? 'desc' : 'asc'\n    }));\n  };\n  const handleFilterChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFilters(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    setPagination(prev => ({\n      ...prev,\n      page: 1\n    })); // Reset to first page on filter change\n  };\n  const handlePageChange = newPage => {\n    setPagination(prev => ({\n      ...prev,\n      page: newPage\n    }));\n  };\n\n  // --- CRUD Handlers with Optimistic UI ---\n\n  const handleAdd = () => {\n    setEditingTransaction(null);\n    setIsModalOpen(true);\n  };\n  const handleEdit = transaction => {\n    setEditingTransaction(transaction);\n    setIsModalOpen(true);\n  };\n  const handleCloseModal = () => {\n    setIsModalOpen(false);\n    setEditingTransaction(null);\n    if (addButtonRef.current) {\n      addButtonRef.current.focus();\n    }\n  };\n  const onTransactionAdded = newTransaction => {\n    // Optimistic update\n    setTransactions(prev => [newTransaction, ...prev.slice(0, pagination.limit - 1)]);\n    setTotal(prev => prev + 1);\n    handleCloseModal();\n    showNotification('Transaction added!', 'success');\n    // No need to refetch, but if the new item affects sorting/filtering on the *next* page, a refetch might be better.\n    // For simplicity, we are just prepending.\n  };\n  const onTransactionUpdated = updatedTransaction => {\n    // Optimistic update\n    setTransactions(prev => prev.map(t => t._id === updatedTransaction._id ? updatedTransaction : t));\n    handleCloseModal();\n    showNotification('Transaction updated!', 'success');\n  };\n  const handleDelete = async id => {\n    if (!window.confirm('Are you sure you want to delete this transaction?')) return;\n    const originalTransactions = [...transactions];\n    const originalTotal = total;\n\n    // Optimistic delete\n    setTransactions(prev => prev.filter(t => t._id !== id));\n    setTotal(prev => prev - 1);\n    try {\n      await axios.delete(`/transactions/${id}`);\n      showNotification('Transaction deleted successfully', 'success');\n      // If the deletion makes the current page empty and it's not the first page, go to the previous page.\n      if (transactions.length === 1 && pagination.page > 1) {\n        handlePageChange(pagination.page - 1);\n      }\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      showNotification(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.error) || 'Error deleting transaction', 'error');\n      // Rollback on error\n      setTransactions(originalTransactions);\n      setTotal(originalTotal);\n    }\n  };\n  const handleSeed = async () => {\n    try {\n      await axios.post('/transactions/seed-sample');\n      showNotification('Sample transaction seeded!', 'success');\n      fetchTransactions(false); // Refetch without full loader\n    } catch (err) {\n      showNotification('Failed to seed data.', 'error');\n    }\n  };\n  const handleExport = async () => {\n    try {\n      // Fetch all transactions for export\n      const res = await axios.get('/transactions', {\n        params: {\n          ...queryParams,\n          page: 1,\n          limit: total\n        }\n      });\n      const csv = Papa.unparse(res.data.data, {\n        columns: ['type', 'category', 'amount', 'date', 'description']\n      });\n      const blob = new Blob([csv], {\n        type: 'text/csv;charset=utf-8;'\n      });\n      const link = document.createElement('a');\n      const url = URL.createObjectURL(blob);\n      link.setAttribute('href', url);\n      link.setAttribute('download', `finaurial-transactions-${new Date().toISOString().slice(0, 10)}.csv`);\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      showNotification('Export successful!', 'success');\n    } catch (err) {\n      showNotification('Failed to export transactions.', 'error');\n    }\n  };\n  const totalPages = Math.ceil(total / pagination.limit);\n  const renderContent = () => {\n    if (loading) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-10\",\n        children: \"Loading transactions...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 14\n      }, this);\n    }\n    if (error) {\n      return /*#__PURE__*/_jsxDEV(Card, {\n        className: \"text-center py-10 bg-red-50 border-red-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-red-800\",\n          children: \"Failed to load transactions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-600 mb-4\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => fetchTransactions(),\n          className: \"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 min-h-[44px]\",\n          children: \"Retry\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this);\n    }\n    if (transactions.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-10\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-gray-700\",\n          children: \"No transactions found.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500\",\n          children: \"Get started by adding a new one.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleAdd,\n            className: \"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 min-h-[44px]\",\n            children: \"Add Transaction\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 13\n          }, this), process.env.NODE_ENV !== 'production' && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSeed,\n            className: \"bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600 min-h-[44px]\",\n            children: \"Seed Sample Data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"min-w-full divide-y divide-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-gray-50\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [[{\n                label: 'Type',\n                field: 'type'\n              }, {\n                label: 'Category',\n                field: 'category'\n              }, {\n                label: 'Amount',\n                field: 'amount'\n              }, {\n                label: 'Date',\n                field: 'date'\n              }, {\n                label: 'Description',\n                field: 'description'\n              }].map(({\n                label,\n                field\n              }) => /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                onClick: () => handleSort(field),\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:text-teal-600\",\n                \"aria-sort\": sort.field === field ? sort.direction === 'asc' ? 'ascending' : 'descending' : 'none',\n                children: [label, \" \", /*#__PURE__*/_jsxDEV(SortIcon, {\n                  direction: sort.field === field ? sort.direction : null\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 29\n                }, this)]\n              }, field, true, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 19\n              }, this)), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                className: \"relative px-6 py-3\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"sr-only\",\n                  children: \"Actions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 64\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            className: \"bg-white divide-y divide-gray-200\",\n            children: transactions.map(t => {\n              var _t$description, _t$description2;\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${t.type === 'income' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`,\n                    children: t.type\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 244,\n                    columnNumber: 63\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",\n                  children: t.category\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 245,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",\n                  children: [\"$\", t.amount.toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",\n                  children: new Date(t.date).toLocaleDateString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",\n                  title: t.description,\n                  children: [((_t$description = t.description) === null || _t$description === void 0 ? void 0 : _t$description.substring(0, 60)) || '', ((_t$description2 = t.description) === null || _t$description2 === void 0 ? void 0 : _t$description2.length) > 60 ? '...' : '']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleEdit(t),\n                    className: \"text-indigo-600 hover:text-indigo-900 mr-4\",\n                    \"aria-label\": `Edit transaction for ${t.category}`,\n                    children: \"Edit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 250,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleDelete(t._id),\n                    className: \"text-red-600 hover:text-red-900\",\n                    \"aria-label\": `Delete transaction for ${t.category}`,\n                    children: \"Delete\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 251,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 19\n                }, this)]\n              }, t._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 17\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this), totalPages > 1 && /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"mt-4 flex justify-between items-center\",\n        \"aria-label\": \"Pagination\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-700\",\n          children: [\"Showing page \", pagination.page, \" of \", totalPages]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handlePageChange(pagination.page - 1),\n            disabled: pagination.page <= 1,\n            className: \"px-3 py-1 border rounded disabled:opacity-50\",\n            children: \"Previous\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handlePageChange(pagination.page + 1),\n            disabled: pagination.page >= totalPages,\n            className: \"px-3 py-1 border rounded disabled:opacity-50\",\n            children: \"Next\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-gray-800\",\n        children: \"Transactions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleExport,\n          className: \"bg-teal-600 text-white px-4 py-2 rounded hover:bg-teal-700 min-h-[44px]\",\n          children: \"Export CSV\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          ref: addButtonRef,\n          onClick: handleAdd,\n          className: \"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 min-h-[44px]\",\n          children: \"Add Transaction\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-4 p-4 bg-gray-50 rounded-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Search...\",\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value),\n          className: \"p-2 border rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"type\",\n          value: filters.type,\n          onChange: handleFilterChange,\n          className: \"p-2 border rounded\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"All Types\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 113\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"income\",\n            children: \"Income\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 148\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"expense\",\n            children: \"Expense\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 186\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"category\",\n          placeholder: \"Category...\",\n          value: filters.category,\n          onChange: handleFilterChange,\n          className: \"p-2 border rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          name: \"startDate\",\n          value: filters.startDate,\n          onChange: handleFilterChange,\n          className: \"p-2 border rounded\",\n          \"aria-label\": \"Start date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          name: \"endDate\",\n          value: filters.endDate,\n          onChange: handleFilterChange,\n          className: \"p-2 border rounded\",\n          \"aria-label\": \"End date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 9\n      }, this), renderContent()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 7\n    }, this), process.env.NODE_ENV !== 'production' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setIsDebugOpen(!isDebugOpen),\n        className: \"text-sm text-gray-500\",\n        children: \"Toggle Debug Panel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 13\n      }, this), isDebugOpen && lastResponse && /*#__PURE__*/_jsxDEV(Card, {\n        className: \"mt-2 bg-gray-50\",\n        children: /*#__PURE__*/_jsxDEV(\"pre\", {\n          className: \"text-xs overflow-auto max-h-60\",\n          children: /*#__PURE__*/_jsxDEV(\"code\", {\n            children: JSON.stringify(lastResponse, null, 2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 69\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: isModalOpen,\n      onRequestClose: handleCloseModal,\n      contentLabel: \"Transaction Form\",\n      className: \"bg-white rounded-lg shadow-xl p-6 max-w-lg mx-auto my-16 focus:outline-none\",\n      overlayClassName: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center\",\n      shouldCloseOnOverlayClick: true,\n      children: /*#__PURE__*/_jsxDEV(TransactionForm, {\n        onTransactionAdded: onTransactionAdded,\n        onTransactionUpdated: onTransactionUpdated,\n        onCancel: handleCloseModal,\n        transaction: editingTransaction\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 272,\n    columnNumber: 5\n  }, this);\n};\n_s(TransactionsPage, \"yxHwIgTKrIM1xlIlRfnxjuTQUFU=\", false, function () {\n  return [useNotification, useDebounce];\n});\n_c2 = TransactionsPage;\nexport default TransactionsPage;\nvar _c, _c2;\n$RefreshReg$(_c, \"SortIcon\");\n$RefreshReg$(_c2, \"TransactionsPage\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","useRef","axios","useDebounce","TransactionForm","Card","useNotification","Modal","Papa","jsxDEV","_jsxDEV","Fragment","_Fragment","setAppElement","SortIcon","direction","_c","TransactionsPage","_s","showNotification","transactions","setTransactions","total","setTotal","loading","setLoading","error","setError","filters","setFilters","type","category","startDate","endDate","searchTerm","setSearchTerm","sort","setSort","field","pagination","setPagination","page","limit","debouncedSearchTerm","isModalOpen","setIsModalOpen","editingTransaction","setEditingTransaction","isDebugOpen","setIsDebugOpen","lastResponse","setLastResponse","addButtonRef","queryParams","search","fetchTransactions","showLoader","process","env","NODE_ENV","console","debug","url","params","res","get","data","err","_err$response","_err$response$data","errorMsg","response","handleSort","prev","handleFilterChange","e","name","value","target","handlePageChange","newPage","handleAdd","handleEdit","transaction","handleCloseModal","current","focus","onTransactionAdded","newTransaction","slice","onTransactionUpdated","updatedTransaction","map","t","_id","handleDelete","id","window","confirm","originalTransactions","originalTotal","filter","delete","length","_err$response2","_err$response2$data","handleSeed","post","handleExport","csv","unparse","columns","blob","Blob","link","document","createElement","URL","createObjectURL","setAttribute","Date","toISOString","body","appendChild","click","removeChild","totalPages","Math","ceil","renderContent","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","label","scope","_t$description","_t$description2","amount","toFixed","date","toLocaleDateString","title","description","substring","disabled","ref","placeholder","onChange","JSON","stringify","isOpen","onRequestClose","contentLabel","overlayClassName","shouldCloseOnOverlayClick","onCancel","_c2","$RefreshReg$"],"sources":["C:/Users/vansh patel/OneDrive/Desktop/study/sem5/projects/finaurial/finaurial/src/pages/TransactionsPage.js"],"sourcesContent":["\nimport React, { useState, useEffect, useCallback, useMemo, useRef } from 'react';\nimport axios from '../utils/axios';\nimport { useDebounce } from '../utils/hooks';\nimport TransactionForm from '../components/TransactionForm';\nimport Card from '../components/Card';\nimport { useNotification } from '../context/NotificationContext';\nimport Modal from 'react-modal';\nimport Papa from 'papaparse';\n\n// Set app element for accessibility\nModal.setAppElement('#root');\n\nconst SortIcon = ({ direction }) => {\n  if (!direction) return null;\n  return direction === 'asc' ? '↑' : '↓';\n};\n\nconst TransactionsPage = () => {\n  const { showNotification } = useNotification();\n  \n  // State management\n  const [transactions, setTransactions] = useState([]);\n  const [total, setTotal] = useState(0);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  \n  // Filters and sorting\n  const [filters, setFilters] = useState({ type: '', category: '', startDate: '', endDate: '' });\n  const [searchTerm, setSearchTerm] = useState('');\n  const [sort, setSort] = useState({ field: 'date', direction: 'desc' });\n  const [pagination, setPagination] = useState({ page: 1, limit: 10 });\n\n  const debouncedSearchTerm = useDebounce(searchTerm, 400);\n\n  // UI state\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [editingTransaction, setEditingTransaction] = useState(null);\n  const [isDebugOpen, setIsDebugOpen] = useState(false);\n  const [lastResponse, setLastResponse] = useState(null);\n\n  const addButtonRef = useRef(null);\n\n  const queryParams = useMemo(() => ({\n    ...pagination,\n    ...filters,\n    search: debouncedSearchTerm,\n    sort: `${sort.field},${sort.direction}`,\n  }), [pagination, filters, debouncedSearchTerm, sort]);\n\n  const fetchTransactions = useCallback(async (showLoader = true) => {\n    if (showLoader) setLoading(true);\n    setError(null);\n    if (process.env.NODE_ENV !== 'production') {\n      console.debug('[FETCH_START]', { url: '/transactions', params: queryParams });\n    }\n    try {\n      const res = await axios.get('/transactions', { params: queryParams });\n      setTransactions(res.data.data || []);\n      setTotal(res.data.total || 0);\n      if (process.env.NODE_ENV !== 'production') {\n        setLastResponse(res.data);\n        console.debug('[FETCH_SUCCESS]', res.data);\n      }\n    } catch (err) {\n      const errorMsg = err.response?.data?.error || 'Error fetching transactions';\n      setError(errorMsg);\n      showNotification(errorMsg, 'error');\n      if (process.env.NODE_ENV !== 'production') {\n        console.error('[FETCH_ERROR]', err.response || err);\n      }\n    } finally {\n      if (showLoader) setLoading(false);\n    }\n  }, [queryParams, showNotification]);\n\n  useEffect(() => {\n    fetchTransactions();\n  }, [fetchTransactions]);\n\n  const handleSort = (field) => {\n    setSort(prev => ({\n      field,\n      direction: prev.field === field && prev.direction === 'asc' ? 'desc' : 'asc',\n    }));\n  };\n\n  const handleFilterChange = (e) => {\n    const { name, value } = e.target;\n    setFilters(prev => ({ ...prev, [name]: value }));\n    setPagination(prev => ({ ...prev, page: 1 })); // Reset to first page on filter change\n  };\n  \n  const handlePageChange = (newPage) => {\n    setPagination(prev => ({ ...prev, page: newPage }));\n  };\n\n  // --- CRUD Handlers with Optimistic UI ---\n\n  const handleAdd = () => {\n    setEditingTransaction(null);\n    setIsModalOpen(true);\n  };\n\n  const handleEdit = (transaction) => {\n    setEditingTransaction(transaction);\n    setIsModalOpen(true);\n  };\n\n  const handleCloseModal = () => {\n    setIsModalOpen(false);\n    setEditingTransaction(null);\n    if (addButtonRef.current) {\n      addButtonRef.current.focus();\n    }\n  };\n\n  const onTransactionAdded = (newTransaction) => {\n    // Optimistic update\n    setTransactions(prev => [newTransaction, ...prev.slice(0, pagination.limit - 1)]);\n    setTotal(prev => prev + 1);\n    handleCloseModal();\n    showNotification('Transaction added!', 'success');\n    // No need to refetch, but if the new item affects sorting/filtering on the *next* page, a refetch might be better.\n    // For simplicity, we are just prepending.\n  };\n\n  const onTransactionUpdated = (updatedTransaction) => {\n    // Optimistic update\n    setTransactions(prev => prev.map(t => t._id === updatedTransaction._id ? updatedTransaction : t));\n    handleCloseModal();\n    showNotification('Transaction updated!', 'success');\n  };\n\n  const handleDelete = async (id) => {\n    if (!window.confirm('Are you sure you want to delete this transaction?')) return;\n\n    const originalTransactions = [...transactions];\n    const originalTotal = total;\n\n    // Optimistic delete\n    setTransactions(prev => prev.filter(t => t._id !== id));\n    setTotal(prev => prev - 1);\n\n    try {\n      await axios.delete(`/transactions/${id}`);\n      showNotification('Transaction deleted successfully', 'success');\n      // If the deletion makes the current page empty and it's not the first page, go to the previous page.\n      if (transactions.length === 1 && pagination.page > 1) {\n        handlePageChange(pagination.page - 1);\n      }\n    } catch (err) {\n      showNotification(err.response?.data?.error || 'Error deleting transaction', 'error');\n      // Rollback on error\n      setTransactions(originalTransactions);\n      setTotal(originalTotal);\n    }\n  };\n  \n  const handleSeed = async () => {\n    try {\n        await axios.post('/transactions/seed-sample');\n        showNotification('Sample transaction seeded!', 'success');\n        fetchTransactions(false); // Refetch without full loader\n    } catch (err) {\n        showNotification('Failed to seed data.', 'error');\n    }\n  };\n\n  const handleExport = async () => {\n    try {\n      // Fetch all transactions for export\n      const res = await axios.get('/transactions', { params: { ...queryParams, page: 1, limit: total } });\n      const csv = Papa.unparse(res.data.data, {\n        columns: ['type', 'category', 'amount', 'date', 'description']\n      });\n      \n      const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\n      const link = document.createElement('a');\n      const url = URL.createObjectURL(blob);\n      link.setAttribute('href', url);\n      link.setAttribute('download', `finaurial-transactions-${new Date().toISOString().slice(0,10)}.csv`);\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      showNotification('Export successful!', 'success');\n    } catch (err) {\n      showNotification('Failed to export transactions.', 'error');\n    }\n  };\n\n  const totalPages = Math.ceil(total / pagination.limit);\n\n  const renderContent = () => {\n    if (loading) {\n      return <div className=\"text-center py-10\">Loading transactions...</div>;\n    }\n    if (error) {\n      return (\n        <Card className=\"text-center py-10 bg-red-50 border-red-200\">\n          <h3 className=\"text-lg font-medium text-red-800\">Failed to load transactions</h3>\n          <p className=\"text-red-600 mb-4\">{error}</p>\n          <button onClick={() => fetchTransactions()} className=\"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 min-h-[44px]\">\n            Retry\n          </button>\n        </Card>\n      );\n    }\n    if (transactions.length === 0) {\n      return (\n        <div className=\"text-center py-10\">\n          <h3 className=\"text-lg font-medium text-gray-700\">No transactions found.</h3>\n          <p className=\"text-sm text-gray-500\">Get started by adding a new one.</p>\n          <div className=\"mt-4 space-x-2\">\n            <button onClick={handleAdd} className=\"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 min-h-[44px]\">\n              Add Transaction\n            </button>\n            {process.env.NODE_ENV !== 'production' && (\n              <button onClick={handleSeed} className=\"bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600 min-h-[44px]\">\n                Seed Sample Data\n              </button>\n            )}\n          </div>\n        </div>\n      );\n    }\n    return (\n      <>\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full divide-y divide-gray-200\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                {[{label: 'Type', field: 'type'}, {label: 'Category', field: 'category'}, {label: 'Amount', field: 'amount'}, {label: 'Date', field: 'date'}, {label: 'Description', field: 'description'}].map(({label, field}) => (\n                  <th key={field} scope=\"col\" onClick={() => handleSort(field)} className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:text-teal-600\" aria-sort={sort.field === field ? (sort.direction === 'asc' ? 'ascending' : 'descending') : 'none'}>\n                    {label} <SortIcon direction={sort.field === field ? sort.direction : null} />\n                  </th>\n                ))}\n                <th scope=\"col\" className=\"relative px-6 py-3\"><span className=\"sr-only\">Actions</span></th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200\">\n              {transactions.map((t) => (\n                <tr key={t._id}>\n                  <td className=\"px-6 py-4 whitespace-nowrap\"><span className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${t.type === 'income' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`}>{t.type}</span></td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{t.category}</td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">${t.amount.toFixed(2)}</td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">{new Date(t.date).toLocaleDateString()}</td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\" title={t.description}>{t.description?.substring(0, 60) || ''}{t.description?.length > 60 ? '...' : ''}</td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                    <button onClick={() => handleEdit(t)} className=\"text-indigo-600 hover:text-indigo-900 mr-4\" aria-label={`Edit transaction for ${t.category}`}>Edit</button>\n                    <button onClick={() => handleDelete(t._id)} className=\"text-red-600 hover:text-red-900\" aria-label={`Delete transaction for ${t.category}`}>Delete</button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n        {totalPages > 1 && (\n          <nav className=\"mt-4 flex justify-between items-center\" aria-label=\"Pagination\">\n            <p className=\"text-sm text-gray-700\">Showing page {pagination.page} of {totalPages}</p>\n            <div className=\"space-x-2\">\n              <button onClick={() => handlePageChange(pagination.page - 1)} disabled={pagination.page <= 1} className=\"px-3 py-1 border rounded disabled:opacity-50\">Previous</button>\n              <button onClick={() => handlePageChange(pagination.page + 1)} disabled={pagination.page >= totalPages} className=\"px-3 py-1 border rounded disabled:opacity-50\">Next</button>\n            </div>\n          </nav>\n        )}\n      </>\n    );\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <h1 className=\"text-3xl font-bold text-gray-800\">Transactions</h1>\n        <div className=\"flex items-center space-x-2\">\n          <button onClick={handleExport} className=\"bg-teal-600 text-white px-4 py-2 rounded hover:bg-teal-700 min-h-[44px]\">Export CSV</button>\n          <button ref={addButtonRef} onClick={handleAdd} className=\"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 min-h-[44px]\">Add Transaction</button>\n        </div>\n      </div>\n\n      <Card>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-4 p-4 bg-gray-50 rounded-lg\">\n          <input type=\"text\" placeholder=\"Search...\" value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} className=\"p-2 border rounded\" />\n          <select name=\"type\" value={filters.type} onChange={handleFilterChange} className=\"p-2 border rounded\"><option value=\"\">All Types</option><option value=\"income\">Income</option><option value=\"expense\">Expense</option></select>\n          <input type=\"text\" name=\"category\" placeholder=\"Category...\" value={filters.category} onChange={handleFilterChange} className=\"p-2 border rounded\" />\n          <input type=\"date\" name=\"startDate\" value={filters.startDate} onChange={handleFilterChange} className=\"p-2 border rounded\" aria-label=\"Start date\" />\n          <input type=\"date\" name=\"endDate\" value={filters.endDate} onChange={handleFilterChange} className=\"p-2 border rounded\" aria-label=\"End date\" />\n        </div>\n        {renderContent()}\n      </Card>\n      \n      {process.env.NODE_ENV !== 'production' && (\n        <div className=\"mt-4\">\n            <button onClick={() => setIsDebugOpen(!isDebugOpen)} className=\"text-sm text-gray-500\">Toggle Debug Panel</button>\n            {isDebugOpen && lastResponse && (\n                <Card className=\"mt-2 bg-gray-50\">\n                    <pre className=\"text-xs overflow-auto max-h-60\"><code>{JSON.stringify(lastResponse, null, 2)}</code></pre>\n                </Card>\n            )}\n        </div>\n      )}\n\n      <Modal\n        isOpen={isModalOpen}\n        onRequestClose={handleCloseModal}\n        contentLabel=\"Transaction Form\"\n        className=\"bg-white rounded-lg shadow-xl p-6 max-w-lg mx-auto my-16 focus:outline-none\"\n        overlayClassName=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center\"\n        shouldCloseOnOverlayClick={true}\n      >\n        <TransactionForm\n          onTransactionAdded={onTransactionAdded}\n          onTransactionUpdated={onTransactionUpdated}\n          onCancel={handleCloseModal}\n          transaction={editingTransaction}\n        />\n      </Modal>\n    </div>\n  );\n};\n\nexport default TransactionsPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}