{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import axios from'../utils/axios';import{useNotification}from'../context/NotificationContext';import Card from'../components/Card';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BudgetsPage=()=>{const{showNotification}=useNotification();const[budgets,setBudgets]=useState([]);const[loading,setLoading]=useState(true);const fetchBudgets=useCallback(async()=>{try{const res=await axios.get('/budgets');setBudgets(res.data.data);}catch(err){showNotification('Failed to fetch budgets','error');}finally{setLoading(false);}},[showNotification]);useEffect(()=>{fetchBudgets();},[fetchBudgets]);if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold\",children:\"Budgets\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:budgets.map(budget=>{const spent=budget.spent||0;const progress=Math.min(spent/budget.amount*100,100);const progressColor=progress>90?'bg-light-error':progress>70?'bg-yellow-500':'bg-light-success';return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold\",children:budget.category}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-light-secondary dark:text-dark-secondary\",children:[\"Budget: $\",budget.amount.toFixed(2)]}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold\",children:[\"Spent: $\",spent.toFixed(2)]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-4 mt-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(progressColor,\" h-4 rounded-full\"),style:{width:\"\".concat(progress,\"%\")}})})]},budget._id);})})]});};export default BudgetsPage;","map":{"version":3,"names":["React","useState","useEffect","useCallback","axios","useNotification","Card","jsx","_jsx","jsxs","_jsxs","BudgetsPage","showNotification","budgets","setBudgets","loading","setLoading","fetchBudgets","res","get","data","err","children","className","map","budget","spent","progress","Math","min","amount","progressColor","category","toFixed","concat","style","width","_id"],"sources":["C:/Users/vansh patel/OneDrive/Desktop/study/sem5/projects/finaurial/finaurial/src/pages/BudgetsPage.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport axios from '../utils/axios';\nimport { useNotification } from '../context/NotificationContext';\nimport Card from '../components/Card';\n\nconst BudgetsPage = () => {\n  const { showNotification } = useNotification();\n  const [budgets, setBudgets] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  const fetchBudgets = useCallback(async () => {\n    try {\n      const res = await axios.get('/budgets');\n      setBudgets(res.data.data);\n    } catch (err) {\n      showNotification('Failed to fetch budgets', 'error');\n    } finally {\n      setLoading(false);\n    }\n  }, [showNotification]);\n\n  useEffect(() => {\n    fetchBudgets();\n  }, [fetchBudgets]);\n\n  if (loading) return <div>Loading...</div>;\n\n  return (\n    <div className=\"space-y-6\">\n      <h1 className=\"text-3xl font-bold\">Budgets</h1>\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {budgets.map(budget => {\n          const spent = budget.spent || 0;\n          const progress = Math.min((spent / budget.amount) * 100, 100);\n          const progressColor = progress > 90 ? 'bg-light-error' : progress > 70 ? 'bg-yellow-500' : 'bg-light-success';\n          return (\n            <Card key={budget._id}>\n              <h2 className=\"text-xl font-bold\">{budget.category}</h2>\n              <p className=\"text-sm text-light-secondary dark:text-dark-secondary\">Budget: ${budget.amount.toFixed(2)}</p>\n              <p className=\"font-semibold\">Spent: ${spent.toFixed(2)}</p>\n              <div className=\"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-4 mt-2\">\n                <div className={`${progressColor} h-4 rounded-full`} style={{ width: `${progress}%` }}></div>\n              </div>\n            </Card>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default BudgetsPage;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,WAAW,KAAQ,OAAO,CAC/D,MAAO,CAAAC,KAAK,KAAM,gBAAgB,CAClC,OAASC,eAAe,KAAQ,gCAAgC,CAChE,MAAO,CAAAC,IAAI,KAAM,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtC,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CACxB,KAAM,CAAEC,gBAAiB,CAAC,CAAGP,eAAe,CAAC,CAAC,CAC9C,KAAM,CAACQ,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACc,OAAO,CAAEC,UAAU,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CAE5C,KAAM,CAAAgB,YAAY,CAAGd,WAAW,CAAC,SAAY,CAC3C,GAAI,CACF,KAAM,CAAAe,GAAG,CAAG,KAAM,CAAAd,KAAK,CAACe,GAAG,CAAC,UAAU,CAAC,CACvCL,UAAU,CAACI,GAAG,CAACE,IAAI,CAACA,IAAI,CAAC,CAC3B,CAAE,MAAOC,GAAG,CAAE,CACZT,gBAAgB,CAAC,yBAAyB,CAAE,OAAO,CAAC,CACtD,CAAC,OAAS,CACRI,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAAE,CAACJ,gBAAgB,CAAC,CAAC,CAEtBV,SAAS,CAAC,IAAM,CACde,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,CAACA,YAAY,CAAC,CAAC,CAElB,GAAIF,OAAO,CAAE,mBAAOP,IAAA,QAAAc,QAAA,CAAK,YAAU,CAAK,CAAC,CAEzC,mBACEZ,KAAA,QAAKa,SAAS,CAAC,WAAW,CAAAD,QAAA,eACxBd,IAAA,OAAIe,SAAS,CAAC,oBAAoB,CAAAD,QAAA,CAAC,SAAO,CAAI,CAAC,cAC/Cd,IAAA,QAAKe,SAAS,CAAC,sDAAsD,CAAAD,QAAA,CAClET,OAAO,CAACW,GAAG,CAACC,MAAM,EAAI,CACrB,KAAM,CAAAC,KAAK,CAAGD,MAAM,CAACC,KAAK,EAAI,CAAC,CAC/B,KAAM,CAAAC,QAAQ,CAAGC,IAAI,CAACC,GAAG,CAAEH,KAAK,CAAGD,MAAM,CAACK,MAAM,CAAI,GAAG,CAAE,GAAG,CAAC,CAC7D,KAAM,CAAAC,aAAa,CAAGJ,QAAQ,CAAG,EAAE,CAAG,gBAAgB,CAAGA,QAAQ,CAAG,EAAE,CAAG,eAAe,CAAG,kBAAkB,CAC7G,mBACEjB,KAAA,CAACJ,IAAI,EAAAgB,QAAA,eACHd,IAAA,OAAIe,SAAS,CAAC,mBAAmB,CAAAD,QAAA,CAAEG,MAAM,CAACO,QAAQ,CAAK,CAAC,cACxDtB,KAAA,MAAGa,SAAS,CAAC,uDAAuD,CAAAD,QAAA,EAAC,WAAS,CAACG,MAAM,CAACK,MAAM,CAACG,OAAO,CAAC,CAAC,CAAC,EAAI,CAAC,cAC5GvB,KAAA,MAAGa,SAAS,CAAC,eAAe,CAAAD,QAAA,EAAC,UAAQ,CAACI,KAAK,CAACO,OAAO,CAAC,CAAC,CAAC,EAAI,CAAC,cAC3DzB,IAAA,QAAKe,SAAS,CAAC,2DAA2D,CAAAD,QAAA,cACxEd,IAAA,QAAKe,SAAS,IAAAW,MAAA,CAAKH,aAAa,qBAAoB,CAACI,KAAK,CAAE,CAAEC,KAAK,IAAAF,MAAA,CAAKP,QAAQ,KAAI,CAAE,CAAM,CAAC,CAC1F,CAAC,GANGF,MAAM,CAACY,GAOZ,CAAC,CAEX,CAAC,CAAC,CACC,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA1B,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}