{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{useNotification}from'../context/NotificationContext';// Import useNotification\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BudgetForm=_ref=>{let{onBudgetAdded}=_ref;const{showNotification}=useNotification();// Use the hook\nconst[category,setCategory]=useState('');const[limit,setLimit]=useState('');// Removed local error state\nconst handleAddBudget=async e=>{e.preventDefault();if(!category||!limit){showNotification('Please fill in all fields','error');// Show error notification\nreturn;}try{const token=localStorage.getItem('token');const config={headers:{'x-auth-token':token}};await axios.post('http://localhost:5000/api/budgets',{category,limit:parseFloat(limit)},config);showNotification('Budget added successfully!','success');// Show success notification\n// Clear form\nsetCategory('');setLimit('');if(onBudgetAdded){onBudgetAdded();// Call callback to refresh list\n}}catch(err){var _err$response,_err$response$data;showNotification(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.msg)||'Failed to add budget','error');// Show error notification\n}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-6 text-gray-800\",children:\"Add Budget\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddBudget,className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Category\",value:category,onChange:e=>setCategory(e.target.value),className:\"w-full p-2 border rounded\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",placeholder:\"Monthly Limit\",value:limit,onChange:e=>setLimit(e.target.value),className:\"w-full p-2 border rounded\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600 w-full\",children:\"Add Budget\"})]})]});};export default BudgetForm;","map":{"version":3,"names":["React","useState","axios","useNotification","jsx","_jsx","jsxs","_jsxs","BudgetForm","_ref","onBudgetAdded","showNotification","category","setCategory","limit","setLimit","handleAddBudget","e","preventDefault","token","localStorage","getItem","config","headers","post","parseFloat","err","_err$response","_err$response$data","response","data","msg","children","className","onSubmit","type","placeholder","value","onChange","target","required","step"],"sources":["C:/Users/vansh patel/OneDrive/Desktop/study/sem5/projects/finaurial/finaurial/src/components/BudgetForm.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { useNotification } from '../context/NotificationContext'; // Import useNotification\n\nconst BudgetForm = ({ onBudgetAdded }) => {\n  const { showNotification } = useNotification(); // Use the hook\n  const [category, setCategory] = useState('');\n  const [limit, setLimit] = useState('');\n  // Removed local error state\n\n  const handleAddBudget = async (e) => {\n    e.preventDefault();\n    if (!category || !limit) {\n      showNotification('Please fill in all fields', 'error'); // Show error notification\n      return;\n    }\n\n    try {\n      const token = localStorage.getItem('token');\n      const config = {\n        headers: {\n          'x-auth-token': token,\n        },\n      };\n      await axios.post('http://localhost:5000/api/budgets', {\n        category,\n        limit: parseFloat(limit),\n      }, config);\n\n      showNotification('Budget added successfully!', 'success'); // Show success notification\n\n      // Clear form\n      setCategory('');\n      setLimit('');\n\n      if (onBudgetAdded) {\n        onBudgetAdded(); // Call callback to refresh list\n      }\n    } catch (err) {\n      showNotification(err.response?.data?.msg || 'Failed to add budget', 'error'); // Show error notification\n    }\n  };\n\n  return (\n    <div>\n      <h2 className=\"text-2xl font-bold mb-6 text-gray-800\">Add Budget</h2>\n      {/* Removed local error display as notifications handle it */}\n      <form onSubmit={handleAddBudget} className=\"space-y-4\">\n        <input \n          type=\"text\" \n          placeholder=\"Category\" \n          value={category} \n          onChange={e => setCategory(e.target.value)} \n          className=\"w-full p-2 border rounded\"\n          required  \n        />\n        <input \n          type=\"number\" \n          step=\"0.01\" \n          placeholder=\"Monthly Limit\" \n          value={limit} \n          onChange={e => setLimit(e.target.value)} \n          className=\"w-full p-2 border rounded\"\n          required  \n        />\n        <button type=\"submit\" className=\"bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600 w-full\">Add Budget</button>\n      </form>\n    </div>\n  );\n};\n\nexport default BudgetForm;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,eAAe,KAAQ,gCAAgC,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElE,KAAM,CAAAC,UAAU,CAAGC,IAAA,EAAuB,IAAtB,CAAEC,aAAc,CAAC,CAAAD,IAAA,CACnC,KAAM,CAAEE,gBAAiB,CAAC,CAAGR,eAAe,CAAC,CAAC,CAAE;AAChD,KAAM,CAACS,QAAQ,CAAEC,WAAW,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACa,KAAK,CAAEC,QAAQ,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CACtC;AAEA,KAAM,CAAAe,eAAe,CAAG,KAAO,CAAAC,CAAC,EAAK,CACnCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAI,CAACN,QAAQ,EAAI,CAACE,KAAK,CAAE,CACvBH,gBAAgB,CAAC,2BAA2B,CAAE,OAAO,CAAC,CAAE;AACxD,OACF,CAEA,GAAI,CACF,KAAM,CAAAQ,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAC,MAAM,CAAG,CACbC,OAAO,CAAE,CACP,cAAc,CAAEJ,KAClB,CACF,CAAC,CACD,KAAM,CAAAjB,KAAK,CAACsB,IAAI,CAAC,mCAAmC,CAAE,CACpDZ,QAAQ,CACRE,KAAK,CAAEW,UAAU,CAACX,KAAK,CACzB,CAAC,CAAEQ,MAAM,CAAC,CAEVX,gBAAgB,CAAC,4BAA4B,CAAE,SAAS,CAAC,CAAE;AAE3D;AACAE,WAAW,CAAC,EAAE,CAAC,CACfE,QAAQ,CAAC,EAAE,CAAC,CAEZ,GAAIL,aAAa,CAAE,CACjBA,aAAa,CAAC,CAAC,CAAE;AACnB,CACF,CAAE,MAAOgB,GAAG,CAAE,KAAAC,aAAA,CAAAC,kBAAA,CACZjB,gBAAgB,CAAC,EAAAgB,aAAA,CAAAD,GAAG,CAACG,QAAQ,UAAAF,aAAA,kBAAAC,kBAAA,CAAZD,aAAA,CAAcG,IAAI,UAAAF,kBAAA,iBAAlBA,kBAAA,CAAoBG,GAAG,GAAI,sBAAsB,CAAE,OAAO,CAAC,CAAE;AAChF,CACF,CAAC,CAED,mBACExB,KAAA,QAAAyB,QAAA,eACE3B,IAAA,OAAI4B,SAAS,CAAC,uCAAuC,CAAAD,QAAA,CAAC,YAAU,CAAI,CAAC,cAErEzB,KAAA,SAAM2B,QAAQ,CAAElB,eAAgB,CAACiB,SAAS,CAAC,WAAW,CAAAD,QAAA,eACpD3B,IAAA,UACE8B,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,UAAU,CACtBC,KAAK,CAAEzB,QAAS,CAChB0B,QAAQ,CAAErB,CAAC,EAAIJ,WAAW,CAACI,CAAC,CAACsB,MAAM,CAACF,KAAK,CAAE,CAC3CJ,SAAS,CAAC,2BAA2B,CACrCO,QAAQ,MACT,CAAC,cACFnC,IAAA,UACE8B,IAAI,CAAC,QAAQ,CACbM,IAAI,CAAC,MAAM,CACXL,WAAW,CAAC,eAAe,CAC3BC,KAAK,CAAEvB,KAAM,CACbwB,QAAQ,CAAErB,CAAC,EAAIF,QAAQ,CAACE,CAAC,CAACsB,MAAM,CAACF,KAAK,CAAE,CACxCJ,SAAS,CAAC,2BAA2B,CACrCO,QAAQ,MACT,CAAC,cACFnC,IAAA,WAAQ8B,IAAI,CAAC,QAAQ,CAACF,SAAS,CAAC,mEAAmE,CAAAD,QAAA,CAAC,YAAU,CAAQ,CAAC,EACnH,CAAC,EACJ,CAAC,CAEV,CAAC,CAED,cAAe,CAAAxB,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}