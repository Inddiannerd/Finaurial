{"ast":null,"code":"import _objectSpread from\"C:/Users/vansh patel/OneDrive/Desktop/study/sem5/projects/finaurial/finaurial/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import axios from'../utils/axios';import{useNotification}from'../context/NotificationContext';import Card from'../components/Card';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SavingsPage=()=>{const{showNotification}=useNotification();const[summary,setSummary]=useState({totalSavings:0});const[history,setHistory]=useState([]);const[loading,setLoading]=useState(true);const[form,setForm]=useState({amount:'',type:'deposit',note:''});const fetchData=useCallback(async()=>{try{const[summaryRes,historyRes]=await Promise.all([axios.get('/savings/summary'),axios.get('/savings')]);setSummary(summaryRes.data.data);setHistory(historyRes.data.data);}catch(err){showNotification('Failed to fetch savings data','error');}finally{setLoading(false);}},[showNotification]);useEffect(()=>{fetchData();},[fetchData]);const handleChange=e=>setForm(_objectSpread(_objectSpread({},form),{},{[e.target.name]:e.target.value}));const handleSubmit=async e=>{e.preventDefault();if(!form.amount||form.amount<=0)return showNotification('Please enter a valid amount','error');try{await axios.post('/savings',form);showNotification(\"Transaction successful!\",'success');setForm({amount:'',type:'deposit',note:''});fetchData();}catch(err){showNotification('Transaction failed','error');}};if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold\",children:\"Savings\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"md:col-span-2 space-y-6\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-4\",children:\"History\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"divide-y divide-light-border dark:divide-dark-border\",children:history.map(item=>/*#__PURE__*/_jsxs(\"li\",{className:\"py-3 flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold \".concat(item.type==='deposit'?'text-light-success':'text-light-error'),children:item.type}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-light-secondary dark:text-dark-secondary\",children:item.note||'-'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-bold text-lg\",children:[\"$\",item.amount.toFixed(2)]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-light-secondary dark:text-dark-secondary\",children:new Date(item.date).toLocaleDateString()})]})]},item._id))})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-2\",children:\"Total Savings\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-4xl font-bold text-light-accent dark:text-dark-accent\",children:[\"$\",summary.totalSavings.toFixed(2)]})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-4\",children:\"New Transaction\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"amount\",placeholder:\"Amount\",value:form.amount,onChange:handleChange,required:true}),/*#__PURE__*/_jsxs(\"select\",{name:\"type\",value:form.type,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"deposit\",children:\"Deposit\"}),/*#__PURE__*/_jsx(\"option\",{value:\"withdrawal\",children:\"Withdrawal\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"note\",placeholder:\"Note\",value:form.note,onChange:handleChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full bg-light-accent text-white py-2 rounded-md min-h-[44px]\",children:\"Submit\"})]})]})]})]})]});};export default SavingsPage;","map":{"version":3,"names":["React","useState","useEffect","useCallback","axios","useNotification","Card","jsx","_jsx","jsxs","_jsxs","SavingsPage","showNotification","summary","setSummary","totalSavings","history","setHistory","loading","setLoading","form","setForm","amount","type","note","fetchData","summaryRes","historyRes","Promise","all","get","data","err","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","post","children","className","map","item","concat","toFixed","Date","date","toLocaleDateString","_id","onSubmit","placeholder","onChange","required"],"sources":["C:/Users/vansh patel/OneDrive/Desktop/study/sem5/projects/finaurial/finaurial/src/pages/SavingsPage.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport axios from '../utils/axios';\nimport { useNotification } from '../context/NotificationContext';\nimport Card from '../components/Card';\n\nconst SavingsPage = () => {\n  const { showNotification } = useNotification();\n  const [summary, setSummary] = useState({ totalSavings: 0 });\n  const [history, setHistory] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [form, setForm] = useState({ amount: '', type: 'deposit', note: '' });\n\n  const fetchData = useCallback(async () => {\n    try {\n      const [summaryRes, historyRes] = await Promise.all([axios.get('/savings/summary'), axios.get('/savings')]);\n      setSummary(summaryRes.data.data);\n      setHistory(historyRes.data.data);\n    } catch (err) {\n      showNotification('Failed to fetch savings data', 'error');\n    } finally {\n      setLoading(false);\n    }\n  }, [showNotification]);\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  const handleChange = (e) => setForm({ ...form, [e.target.name]: e.target.value });\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!form.amount || form.amount <= 0) return showNotification('Please enter a valid amount', 'error');\n    try {\n      await axios.post('/savings', form);\n      showNotification(`Transaction successful!`, 'success');\n      setForm({ amount: '', type: 'deposit', note: '' });\n      fetchData();\n    } catch (err) {\n      showNotification('Transaction failed', 'error');\n    }\n  };\n\n  if (loading) return <div>Loading...</div>;\n\n  return (\n    <div className=\"space-y-6\">\n      <h1 className=\"text-3xl font-bold\">Savings</h1>\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        <div className=\"md:col-span-2 space-y-6\">\n          <Card>\n            <h2 className=\"text-xl font-bold mb-4\">History</h2>\n            <ul className=\"divide-y divide-light-border dark:divide-dark-border\">\n              {history.map(item => (\n                <li key={item._id} className=\"py-3 flex justify-between items-center\">\n                  <div>\n                    <p className={`font-semibold ${item.type === 'deposit' ? 'text-light-success' : 'text-light-error'}`}>{item.type}</p>\n                    <p className=\"text-sm text-light-secondary dark:text-dark-secondary\">{item.note || '-'}</p>\n                  </div>\n                  <div className=\"text-right\">\n                    <p className=\"font-bold text-lg\">${item.amount.toFixed(2)}</p>\n                    <p className=\"text-sm text-light-secondary dark:text-dark-secondary\">{new Date(item.date).toLocaleDateString()}</p>\n                  </div>\n                </li>\n              ))}\n            </ul>\n          </Card>\n        </div>\n        <div className=\"space-y-6\">\n          <Card>\n            <h2 className=\"text-xl font-bold mb-2\">Total Savings</h2>\n            <p className=\"text-4xl font-bold text-light-accent dark:text-dark-accent\">${summary.totalSavings.toFixed(2)}</p>\n          </Card>\n          <Card>\n            <h2 className=\"text-xl font-bold mb-4\">New Transaction</h2>\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n              <input type=\"number\" name=\"amount\" placeholder=\"Amount\" value={form.amount} onChange={handleChange} required />\n              <select name=\"type\" value={form.type} onChange={handleChange}><option value=\"deposit\">Deposit</option><option value=\"withdrawal\">Withdrawal</option></select>\n              <input type=\"text\" name=\"note\" placeholder=\"Note\" value={form.note} onChange={handleChange} />\n              <button type=\"submit\" className=\"w-full bg-light-accent text-white py-2 rounded-md min-h-[44px]\">Submit</button>\n            </form>\n          </Card>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SavingsPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}