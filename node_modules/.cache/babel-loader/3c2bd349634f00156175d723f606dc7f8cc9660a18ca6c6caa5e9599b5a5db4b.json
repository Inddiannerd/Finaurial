{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import Card from'../components/Card';import{useNavigate}from'react-router-dom';import{useNotification}from'../context/NotificationContext';// Import useNotification\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const GoalsPage=()=>{const navigate=useNavigate();const{showNotification}=useNotification();// Use the hook\nconst[goals,setGoals]=useState([]);const[name,setName]=useState('');const[targetAmount,setTargetAmount]=useState('');const[deadline,setDeadline]=useState('');const[loading,setLoading]=useState(true);// Removed local error state\nconst[allocateAmount,setAllocateAmount]=useState('');const[selectedGoalId,setSelectedGoalId]=useState('');// Removed local allocateError state\nconst[featureFlags,setFeatureFlags]=useState({});useEffect(()=>{const fetchFeatureFlags=async()=>{try{const token=localStorage.getItem('token');const config={headers:{'x-auth-token':token}};const res=await axios.get('http://localhost:5000/api/admin/features',config);const flags={};res.data.forEach(flag=>{flags[flag.name]=flag.isEnabled;});setFeatureFlags(flags);if(flags.Goals===false){navigate('/dashboard');}}catch(err){console.error('Failed to fetch feature flags:',err);showNotification('Failed to load feature settings.','error');// Use notification\n}};fetchFeatureFlags();},[navigate,showNotification]);// Added showNotification to dependency array\nconst fetchGoals=async()=>{try{const token=localStorage.getItem('token');const config={headers:{'x-auth-token':token}};const res=await axios.get('http://localhost:5000/api/goals',config);setGoals(res.data.data);setLoading(false);}catch(err){console.error(err);showNotification('Failed to fetch goals.','error');// Use notification\nsetLoading(false);}};useEffect(()=>{if(featureFlags.Goals!==false){// Only fetch if feature is enabled\nfetchGoals();}},[featureFlags.Goals]);const handleSubmit=async e=>{e.preventDefault();try{const token=localStorage.getItem('token');const config={headers:{'x-auth-token':token}};await axios.post('http://localhost:5000/api/goals',{name,targetAmount:parseFloat(targetAmount),deadline},config);showNotification('Goal added successfully!','success');// Show success notification\n// Clear form\nsetName('');setTargetAmount('');setDeadline('');fetchGoals();// Refresh goals\n}catch(err){var _err$response,_err$response$data;showNotification(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.msg)||'Failed to add goal','error');// Use notification\n}};const handleDelete=async id=>{try{const token=localStorage.getItem('token');const config={headers:{'x-auth-token':token}};await axios.delete(\"http://localhost:5000/api/goals/\".concat(id),config);showNotification('Goal deleted successfully!','success');// Show success notification\nfetchGoals();// Refresh goals after deletion\n}catch(err){console.error(err);showNotification('Failed to delete goal.','error');// Use notification\n}};const handleAllocate=async e=>{e.preventDefault();if(!selectedGoalId||!allocateAmount){showNotification('Please select a goal and enter an amount.','error');// Use notification\nreturn;}try{const token=localStorage.getItem('token');const config={headers:{'x-auth-token':token}};const goalToUpdate=goals.find(goal=>goal._id===selectedGoalId);if(!goalToUpdate){showNotification('Selected goal not found.','error');// Use notification\nreturn;}const newCurrentAmount=goalToUpdate.currentAmount+parseFloat(allocateAmount);// Update goal's currentAmount\nawait axios.put(\"http://localhost:5000/api/goals/\".concat(selectedGoalId),{currentAmount:newCurrentAmount},config);// Deduct from user's savings\nawait axios.put('http://localhost:5000/api/auth/update-savings',{amount:-parseFloat(allocateAmount)// Negative amount for deduction\n},config);// Add a saving transaction for withdrawal\nawait axios.post('http://localhost:5000/api/savings',{amount:parseFloat(allocateAmount),type:'withdrawal',note:\"Allocated to goal: \".concat(goalToUpdate.name)},config);showNotification('Savings allocated to goal successfully!','success');// Show success notification\n// Clear form\nsetAllocateAmount('');setSelectedGoalId('');fetchGoals();// Refresh goals\n}catch(err){var _err$response2,_err$response2$data;showNotification(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.msg)||'Failed to allocate savings.','error');// Use notification\n}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:\"Loading goals...\"});}// Removed local error display as notifications handle it\nif(featureFlags.Goals===false){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8 text-gray-500\",children:\"Goals feature is currently disabled by admin.\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"py-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-800 mb-6\",children:\"Financial Goals\"}),/*#__PURE__*/_jsxs(Card,{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Create New Goal\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 mb-2\",children:\"Goal Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:e=>setName(e.target.value),className:\"w-full p-2 border rounded text-gray-700\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 mb-2\",children:\"Target Amount\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:targetAmount,onChange:e=>setTargetAmount(e.target.value),className:\"w-full p-2 border rounded text-gray-700\",required:true,min:\"0\",step:\"0.01\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 mb-2\",children:\"Deadline (Optional)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:deadline,onChange:e=>setDeadline(e.target.value),className:\"w-full p-2 border rounded text-gray-700\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600\",children:\"Add Goal\"})]})]}),/*#__PURE__*/_jsxs(Card,{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Allocate Savings to Goal\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAllocate,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 mb-2\",children:\"Select Goal\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedGoalId,onChange:e=>setSelectedGoalId(e.target.value),className:\"w-full p-2 border rounded text-gray-700\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Select a Goal --\"}),goals.map(goal=>/*#__PURE__*/_jsxs(\"option\",{value:goal._id,children:[goal.name,\" (Current: $\",goal.currentAmount.toFixed(2),\" / Target: $\",goal.targetAmount.toFixed(2),\")\"]},goal._id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 mb-2\",children:\"Amount to Allocate\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:allocateAmount,onChange:e=>setAllocateAmount(e.target.value),className:\"w-full p-2 border rounded text-gray-700\",required:true,min:\"0\",step:\"0.01\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full bg-green-500 text-white p-2 rounded hover:bg-green-600\",children:\"Allocate Savings\"})]})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Your Goals\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:goals.length>0?goals.map(goal=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-800\",children:goal.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"Target: $\",goal.targetAmount.toFixed(2)]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"Current: $\",goal.currentAmount.toFixed(2)]}),goal.deadline&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"Deadline: \",new Date(goal.deadline).toLocaleDateString()]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2.5 mt-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-600 h-2.5 rounded-full\",style:{width:\"\".concat(goal.currentAmount/goal.targetAmount*100,\"%\")}})}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 mt-1\",children:[(goal.currentAmount/goal.targetAmount*100).toFixed(2),\"% Complete\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 flex space-x-2\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(goal._id),className:\"bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600 text-sm\",children:\"Delete\"})})]},goal._id)):/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-500 col-span-full\",children:\"No goals set yet.\"})})]})]});};export default GoalsPage;","map":{"version":3,"names":["React","useState","useEffect","axios","Card","useNavigate","useNotification","jsx","_jsx","jsxs","_jsxs","GoalsPage","navigate","showNotification","goals","setGoals","name","setName","targetAmount","setTargetAmount","deadline","setDeadline","loading","setLoading","allocateAmount","setAllocateAmount","selectedGoalId","setSelectedGoalId","featureFlags","setFeatureFlags","fetchFeatureFlags","token","localStorage","getItem","config","headers","res","get","flags","data","forEach","flag","isEnabled","Goals","err","console","error","fetchGoals","handleSubmit","e","preventDefault","post","parseFloat","_err$response","_err$response$data","response","msg","handleDelete","id","delete","concat","handleAllocate","goalToUpdate","find","goal","_id","newCurrentAmount","currentAmount","put","amount","type","note","_err$response2","_err$response2$data","className","children","onSubmit","value","onChange","target","required","min","step","map","toFixed","length","Date","toLocaleDateString","style","width","onClick"],"sources":["C:/Users/vansh patel/OneDrive/Desktop/study/sem5/projects/finaurial/finaurial/src/pages/GoalsPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Card from '../components/Card';\nimport { useNavigate } from 'react-router-dom';\nimport { useNotification } from '../context/NotificationContext'; // Import useNotification\n\nconst GoalsPage = () => {\n  const navigate = useNavigate();\n  const { showNotification } = useNotification(); // Use the hook\n  const [goals, setGoals] = useState([]);\n  const [name, setName] = useState('');\n  const [targetAmount, setTargetAmount] = useState('');\n  const [deadline, setDeadline] = useState('');\n  const [loading, setLoading] = useState(true);\n  // Removed local error state\n\n  const [allocateAmount, setAllocateAmount] = useState('');\n  const [selectedGoalId, setSelectedGoalId] = useState('');\n  // Removed local allocateError state\n  const [featureFlags, setFeatureFlags] = useState({});\n\n  useEffect(() => {\n    const fetchFeatureFlags = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        const config = {\n          headers: {\n            'x-auth-token': token,\n          },\n        };\n        const res = await axios.get('http://localhost:5000/api/admin/features', config);\n        const flags = {};\n        res.data.forEach(flag => {\n          flags[flag.name] = flag.isEnabled;\n        });\n        setFeatureFlags(flags);\n\n        if (flags.Goals === false) {\n          navigate('/dashboard');\n        }\n      } catch (err) {\n        console.error('Failed to fetch feature flags:', err);\n        showNotification('Failed to load feature settings.', 'error'); // Use notification\n      }\n    };\n\n    fetchFeatureFlags();\n  }, [navigate, showNotification]); // Added showNotification to dependency array\n\n  const fetchGoals = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const config = {\n        headers: {\n          'x-auth-token': token,\n        },\n      };\n      const res = await axios.get('http://localhost:5000/api/goals', config);\n      setGoals(res.data.data);\n      setLoading(false);\n    } catch (err) {\n      console.error(err);\n      showNotification('Failed to fetch goals.', 'error'); // Use notification\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (featureFlags.Goals !== false) { // Only fetch if feature is enabled\n      fetchGoals();\n    }\n  }, [featureFlags.Goals]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const token = localStorage.getItem('token');\n      const config = {\n        headers: {\n          'x-auth-token': token,\n        },\n      };\n      await axios.post('http://localhost:5000/api/goals', {\n        name,\n        targetAmount: parseFloat(targetAmount),\n        deadline,\n      }, config);\n\n      showNotification('Goal added successfully!', 'success'); // Show success notification\n\n      // Clear form\n      setName('');\n      setTargetAmount('');\n      setDeadline('');\n      fetchGoals(); // Refresh goals\n    } catch (err) {\n      showNotification(err.response?.data?.msg || 'Failed to add goal', 'error'); // Use notification\n    }\n  };\n\n  const handleDelete = async (id) => {\n    try {\n      const token = localStorage.getItem('token');\n      const config = {\n        headers: {\n          'x-auth-token': token,\n        },\n      };\n      await axios.delete(`http://localhost:5000/api/goals/${id}`, config);\n      showNotification('Goal deleted successfully!', 'success'); // Show success notification\n      fetchGoals(); // Refresh goals after deletion\n    } catch (err) {\n      console.error(err);\n      showNotification('Failed to delete goal.', 'error'); // Use notification\n    }\n  };\n\n  const handleAllocate = async (e) => {\n    e.preventDefault();\n    if (!selectedGoalId || !allocateAmount) {\n      showNotification('Please select a goal and enter an amount.', 'error'); // Use notification\n      return;\n    }\n\n    try {\n      const token = localStorage.getItem('token');\n      const config = {\n        headers: {\n          'x-auth-token': token,\n        },\n      };\n\n      const goalToUpdate = goals.find(goal => goal._id === selectedGoalId);\n      if (!goalToUpdate) {\n        showNotification('Selected goal not found.', 'error'); // Use notification\n        return;\n      }\n\n      const newCurrentAmount = goalToUpdate.currentAmount + parseFloat(allocateAmount);\n\n      // Update goal's currentAmount\n      await axios.put(`http://localhost:5000/api/goals/${selectedGoalId}`, {\n        currentAmount: newCurrentAmount,\n      }, config);\n\n      // Deduct from user's savings\n      await axios.put('http://localhost:5000/api/auth/update-savings', {\n        amount: -parseFloat(allocateAmount), // Negative amount for deduction\n      }, config);\n\n      // Add a saving transaction for withdrawal\n      await axios.post('http://localhost:5000/api/savings', {\n        amount: parseFloat(allocateAmount),\n        type: 'withdrawal',\n        note: `Allocated to goal: ${goalToUpdate.name}`,\n      }, config);\n\n      showNotification('Savings allocated to goal successfully!', 'success'); // Show success notification\n\n      // Clear form\n      setAllocateAmount('');\n      setSelectedGoalId('');\n      fetchGoals(); // Refresh goals\n    } catch (err) {\n      showNotification(err.response?.data?.msg || 'Failed to allocate savings.', 'error'); // Use notification\n    }\n  };\n\n  if (loading) {\n    return <div className=\"text-center py-8\">Loading goals...</div>;\n  }\n\n  // Removed local error display as notifications handle it\n\n  if (featureFlags.Goals === false) {\n    return <div className=\"text-center py-8 text-gray-500\">Goals feature is currently disabled by admin.</div>;\n  }\n\n  return (\n    <div className=\"py-6\">\n      <h1 className=\"text-3xl font-bold text-gray-800 mb-6\">Financial Goals</h1>\n\n      <Card className=\"mb-8\">\n        <h2 className=\"text-lg font-medium text-gray-900 mb-4\">Create New Goal</h2>\n        {/* Removed local error display */}\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div className=\"mb-4\">\n            <label className=\"block text-gray-700 mb-2\">Goal Name</label>\n            <input\n              type=\"text\"\n              value={name}\n              onChange={(e) => setName(e.target.value)}\n              className=\"w-full p-2 border rounded text-gray-700\"\n              required\n            />\n          </div>\n          <div className=\"mb-4\">\n            <label className=\"block text-gray-700 mb-2\">Target Amount</label>\n            <input\n              type=\"number\"\n              value={targetAmount}\n              onChange={(e) => setTargetAmount(e.target.value)}\n              className=\"w-full p-2 border rounded text-gray-700\"\n              required\n              min=\"0\"\n              step=\"0.01\"\n            />\n          </div>\n          <div className=\"mb-6\">\n            <label className=\"block text-gray-700 mb-2\">Deadline (Optional)</label>\n            <input\n              type=\"date\"\n              value={deadline}\n              onChange={(e) => setDeadline(e.target.value)}\n              className=\"w-full p-2 border rounded text-gray-700\"\n            />\n          </div>\n          <button\n            type=\"submit\"\n            className=\"w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600\"\n          >\n            Add Goal\n          </button>\n        </form>\n      </Card>\n\n      <Card className=\"mb-8\">\n        <h2 className=\"text-lg font-medium text-gray-900 mb-4\">Allocate Savings to Goal</h2>\n        {/* Removed local error display */}\n        <form onSubmit={handleAllocate} className=\"space-y-4\">\n          <div className=\"mb-4\">\n            <label className=\"block text-gray-700 mb-2\">Select Goal</label>\n            <select\n              value={selectedGoalId}\n              onChange={(e) => setSelectedGoalId(e.target.value)}\n              className=\"w-full p-2 border rounded text-gray-700\"\n              required\n            >\n              <option value=\"\">-- Select a Goal --</option>\n              {goals.map((goal) => (\n                <option key={goal._id} value={goal._id}>\n                  {goal.name} (Current: ${goal.currentAmount.toFixed(2)} / Target: ${goal.targetAmount.toFixed(2)})\n                </option>\n              ))}\n            </select>\n          </div>\n          <div className=\"mb-4\">\n            <label className=\"block text-gray-700 mb-2\">Amount to Allocate</label>\n            <input\n              type=\"number\"\n              value={allocateAmount}\n              onChange={(e) => setAllocateAmount(e.target.value)}\n              className=\"w-full p-2 border rounded text-gray-700\"\n              required\n              min=\"0\"\n              step=\"0.01\"\n            />\n          </div>\n          <button\n            type=\"submit\"\n            className=\"w-full bg-green-500 text-white p-2 rounded hover:bg-green-600\"\n          >\n            Allocate Savings\n          </button>\n        </form>\n      </Card>\n\n      <Card>\n        <h2 className=\"text-lg font-medium text-gray-900 mb-4\">Your Goals</h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {goals.length > 0 ? (\n            goals.map((goal) => (\n              <div key={goal._id} className=\"bg-gray-50 p-4 rounded-lg shadow\">\n                <h3 className=\"text-xl font-semibold text-gray-800\">{goal.name}</h3>\n                <p className=\"text-gray-600\">Target: ${goal.targetAmount.toFixed(2)}</p>\n                <p className=\"text-gray-600\">Current: ${goal.currentAmount.toFixed(2)}</p>\n                {goal.deadline && (\n                  <p className=\"text-gray-600\">Deadline: {new Date(goal.deadline).toLocaleDateString()}</p>\n                )}\n                <div className=\"w-full bg-gray-200 rounded-full h-2.5 mt-2\">\n                  <div\n                    className=\"bg-blue-600 h-2.5 rounded-full\"\n                    style={{ width: `${(goal.currentAmount / goal.targetAmount) * 100}%` }}\n                  ></div>\n                </div>\n                <p className=\"text-sm text-gray-500 mt-1\">\n                  {((goal.currentAmount / goal.targetAmount) * 100).toFixed(2)}% Complete\n                </p>\n                <div className=\"mt-4 flex space-x-2\">\n                  <button\n                    onClick={() => handleDelete(goal._id)}\n                    className=\"bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600 text-sm\"\n                  >\n                    Delete\n                  </button>\n                  {/* Add Edit/Update button here later */}\n                </div>\n              </div>\n            ))\n          ) : (\n            <p className=\"text-center text-gray-500 col-span-full\">No goals set yet.</p>\n          )}\n        </div>\n      </Card>\n    </div>\n  );\n};\n\nexport default GoalsPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}