{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import axios from'../utils/axios';import{useNotification}from'../context/NotificationContext';import Card from'../components/Card';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const GoalsPage=()=>{const{showNotification}=useNotification();const[goals,setGoals]=useState([]);const[loading,setLoading]=useState(true);const fetchGoals=useCallback(async()=>{try{const res=await axios.get('/goals');setGoals(res.data.data);}catch(err){showNotification('Failed to fetch goals','error');}finally{setLoading(false);}},[showNotification]);useEffect(()=>{fetchGoals();},[fetchGoals]);if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold\",children:\"Financial Goals\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:goals.map(goal=>{const progress=Math.min(goal.currentAmount/goal.targetAmount*100,100);return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold\",children:goal.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-light-secondary dark:text-dark-secondary\",children:[\"Target: $\",goal.targetAmount.toFixed(2)]}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold\",children:[\"Current: $\",goal.currentAmount.toFixed(2)]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-4 mt-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-light-success h-4 rounded-full\",style:{width:\"\".concat(progress,\"%\")}})}),goal.deadline&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-light-secondary dark:text-dark-secondary mt-2\",children:[\"Deadline: \",new Date(goal.deadline).toLocaleDateString()]})]},goal._id);})})]});};export default GoalsPage;","map":{"version":3,"names":["React","useState","useEffect","useCallback","axios","useNotification","Card","jsx","_jsx","jsxs","_jsxs","GoalsPage","showNotification","goals","setGoals","loading","setLoading","fetchGoals","res","get","data","err","children","className","map","goal","progress","Math","min","currentAmount","targetAmount","name","toFixed","style","width","concat","deadline","Date","toLocaleDateString","_id"],"sources":["C:/Users/vansh patel/OneDrive/Desktop/study/sem5/projects/finaurial/finaurial/src/pages/GoalsPage.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport axios from '../utils/axios';\nimport { useNotification } from '../context/NotificationContext';\nimport Card from '../components/Card';\n\nconst GoalsPage = () => {\n  const { showNotification } = useNotification();\n  const [goals, setGoals] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  const fetchGoals = useCallback(async () => {\n    try {\n      const res = await axios.get('/goals');\n      setGoals(res.data.data);\n    } catch (err) {\n      showNotification('Failed to fetch goals', 'error');\n    } finally {\n      setLoading(false);\n    }\n  }, [showNotification]);\n\n  useEffect(() => {\n    fetchGoals();\n  }, [fetchGoals]);\n\n  if (loading) return <div>Loading...</div>;\n\n  return (\n    <div className=\"space-y-6\">\n      <h1 className=\"text-3xl font-bold\">Financial Goals</h1>\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {goals.map(goal => {\n          const progress = Math.min((goal.currentAmount / goal.targetAmount) * 100, 100);\n          return (\n            <Card key={goal._id}>\n              <h2 className=\"text-xl font-bold\">{goal.name}</h2>\n              <p className=\"text-sm text-light-secondary dark:text-dark-secondary\">Target: ${goal.targetAmount.toFixed(2)}</p>\n              <p className=\"font-semibold\">Current: ${goal.currentAmount.toFixed(2)}</p>\n              <div className=\"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-4 mt-2\">\n                <div className=\"bg-light-success h-4 rounded-full\" style={{ width: `${progress}%` }}></div>\n              </div>\n              {goal.deadline && <p className=\"text-sm text-light-secondary dark:text-dark-secondary mt-2\">Deadline: {new Date(goal.deadline).toLocaleDateString()}</p>}\n            </Card>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default GoalsPage;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,WAAW,KAAQ,OAAO,CAC/D,MAAO,CAAAC,KAAK,KAAM,gBAAgB,CAClC,OAASC,eAAe,KAAQ,gCAAgC,CAChE,MAAO,CAAAC,IAAI,KAAM,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtC,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACtB,KAAM,CAAEC,gBAAiB,CAAC,CAAGP,eAAe,CAAC,CAAC,CAC9C,KAAM,CAACQ,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACc,OAAO,CAAEC,UAAU,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CAE5C,KAAM,CAAAgB,UAAU,CAAGd,WAAW,CAAC,SAAY,CACzC,GAAI,CACF,KAAM,CAAAe,GAAG,CAAG,KAAM,CAAAd,KAAK,CAACe,GAAG,CAAC,QAAQ,CAAC,CACrCL,QAAQ,CAACI,GAAG,CAACE,IAAI,CAACA,IAAI,CAAC,CACzB,CAAE,MAAOC,GAAG,CAAE,CACZT,gBAAgB,CAAC,uBAAuB,CAAE,OAAO,CAAC,CACpD,CAAC,OAAS,CACRI,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAAE,CAACJ,gBAAgB,CAAC,CAAC,CAEtBV,SAAS,CAAC,IAAM,CACde,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,CAACA,UAAU,CAAC,CAAC,CAEhB,GAAIF,OAAO,CAAE,mBAAOP,IAAA,QAAAc,QAAA,CAAK,YAAU,CAAK,CAAC,CAEzC,mBACEZ,KAAA,QAAKa,SAAS,CAAC,WAAW,CAAAD,QAAA,eACxBd,IAAA,OAAIe,SAAS,CAAC,oBAAoB,CAAAD,QAAA,CAAC,iBAAe,CAAI,CAAC,cACvDd,IAAA,QAAKe,SAAS,CAAC,sDAAsD,CAAAD,QAAA,CAClET,KAAK,CAACW,GAAG,CAACC,IAAI,EAAI,CACjB,KAAM,CAAAC,QAAQ,CAAGC,IAAI,CAACC,GAAG,CAAEH,IAAI,CAACI,aAAa,CAAGJ,IAAI,CAACK,YAAY,CAAI,GAAG,CAAE,GAAG,CAAC,CAC9E,mBACEpB,KAAA,CAACJ,IAAI,EAAAgB,QAAA,eACHd,IAAA,OAAIe,SAAS,CAAC,mBAAmB,CAAAD,QAAA,CAAEG,IAAI,CAACM,IAAI,CAAK,CAAC,cAClDrB,KAAA,MAAGa,SAAS,CAAC,uDAAuD,CAAAD,QAAA,EAAC,WAAS,CAACG,IAAI,CAACK,YAAY,CAACE,OAAO,CAAC,CAAC,CAAC,EAAI,CAAC,cAChHtB,KAAA,MAAGa,SAAS,CAAC,eAAe,CAAAD,QAAA,EAAC,YAAU,CAACG,IAAI,CAACI,aAAa,CAACG,OAAO,CAAC,CAAC,CAAC,EAAI,CAAC,cAC1ExB,IAAA,QAAKe,SAAS,CAAC,2DAA2D,CAAAD,QAAA,cACxEd,IAAA,QAAKe,SAAS,CAAC,mCAAmC,CAACU,KAAK,CAAE,CAAEC,KAAK,IAAAC,MAAA,CAAKT,QAAQ,KAAI,CAAE,CAAM,CAAC,CACxF,CAAC,CACLD,IAAI,CAACW,QAAQ,eAAI1B,KAAA,MAAGa,SAAS,CAAC,4DAA4D,CAAAD,QAAA,EAAC,YAAU,CAAC,GAAI,CAAAe,IAAI,CAACZ,IAAI,CAACW,QAAQ,CAAC,CAACE,kBAAkB,CAAC,CAAC,EAAI,CAAC,GAP/Ib,IAAI,CAACc,GAQV,CAAC,CAEX,CAAC,CAAC,CACC,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA5B,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}