{"ast":null,"code":"import _objectSpread from\"C:/Users/vansh patel/OneDrive/Desktop/study/sem5/projects/finaurial/finaurial/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import axios from'../utils/axios';import{useNotification}from'../context/NotificationContext';import Card from'../components/Card';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SavingsPage=()=>{const{showNotification}=useNotification();const[summary,setSummary]=useState({totalSavings:0});const[history,setHistory]=useState([]);const[loading,setLoading]=useState(true);const[form,setForm]=useState({amount:'',type:'deposit',note:''});const fetchData=useCallback(async()=>{try{const[summaryRes,historyRes]=await Promise.all([axios.get('/savings/summary'),axios.get('/savings')]);setSummary(summaryRes.data.data);setHistory(historyRes.data.data);}catch(err){showNotification('Failed to fetch savings data','error');}finally{setLoading(false);}},[showNotification]);useEffect(()=>{fetchData();},[fetchData]);const handleChange=e=>{setForm(_objectSpread(_objectSpread({},form),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();if(!form.amount||form.amount<=0){showNotification('Please enter a valid amount','error');return;}try{await axios.post('/savings',form);showNotification(\"Successfully \".concat(form.type==='deposit'?'deposited':'withdrew',\"!\"),'success');setForm({amount:'',type:'deposit',note:''});fetchData();// Refresh data\n}catch(err){showNotification('Transaction failed','error');}};if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold\",children:\"Savings\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"md:col-span-2 space-y-6\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-4\",children:\"Savings History\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"divide-y divide-gray-200\",children:history.map(item=>/*#__PURE__*/_jsxs(\"li\",{className:\"py-4 flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold \".concat(item.type==='deposit'?'text-green-600':'text-red-600'),children:item.type==='deposit'?'Deposit':'Withdrawal'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:item.note||'-'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-bold text-lg\",children:[\"$\",item.amount.toFixed(2)]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:new Date(item.date).toLocaleDateString()})]})]},item._id))})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-2\",children:\"Current Savings\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-4xl font-bold text-blue-600\",children:[\"$\",summary.totalSavings.toFixed(2)]})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-4\",children:\"New Transaction\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"amount\",className:\"block text-sm font-medium text-gray-700\",children:\"Amount\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"amount\",id:\"amount\",value:form.amount,onChange:handleChange,className:\"mt-1 block w-full p-2 border rounded\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"type\",className:\"block text-sm font-medium text-gray-700\",children:\"Type\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"type\",id:\"type\",value:form.type,onChange:handleChange,className:\"mt-1 block w-full p-2 border rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"deposit\",children:\"Deposit\"}),/*#__PURE__*/_jsx(\"option\",{value:\"withdrawal\",children:\"Withdrawal\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"note\",className:\"block text-sm font-medium text-gray-700\",children:\"Note\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"note\",id:\"note\",value:form.note,onChange:handleChange,className:\"mt-1 block w-full p-2 border rounded\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full bg-teal-600 text-white py-2 rounded hover:bg-teal-700\",children:\"Submit\"})]})]})]})]})]});};export default SavingsPage;","map":{"version":3,"names":["React","useState","useEffect","useCallback","axios","useNotification","Card","jsx","_jsx","jsxs","_jsxs","SavingsPage","showNotification","summary","setSummary","totalSavings","history","setHistory","loading","setLoading","form","setForm","amount","type","note","fetchData","summaryRes","historyRes","Promise","all","get","data","err","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","post","concat","children","className","map","item","toFixed","Date","date","toLocaleDateString","_id","onSubmit","htmlFor","id","onChange","required"],"sources":["C:/Users/vansh patel/OneDrive/Desktop/study/sem5/projects/finaurial/finaurial/src/pages/SavingsPage.js"],"sourcesContent":["\nimport React, { useState, useEffect, useCallback } from 'react';\nimport axios from '../utils/axios';\nimport { useNotification } from '../context/NotificationContext';\nimport Card from '../components/Card';\n\nconst SavingsPage = () => {\n  const { showNotification } = useNotification();\n  const [summary, setSummary] = useState({ totalSavings: 0 });\n  const [history, setHistory] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [form, setForm] = useState({ amount: '', type: 'deposit', note: '' });\n\n  const fetchData = useCallback(async () => {\n    try {\n      const [summaryRes, historyRes] = await Promise.all([\n        axios.get('/savings/summary'),\n        axios.get('/savings'),\n      ]);\n      setSummary(summaryRes.data.data);\n      setHistory(historyRes.data.data);\n    } catch (err) {\n      showNotification('Failed to fetch savings data', 'error');\n    } finally {\n      setLoading(false);\n    }\n  }, [showNotification]);\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  const handleChange = (e) => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!form.amount || form.amount <= 0) {\n      showNotification('Please enter a valid amount', 'error');\n      return;\n    }\n    try {\n      await axios.post('/savings', form);\n      showNotification(`Successfully ${form.type === 'deposit' ? 'deposited' : 'withdrew'}!`, 'success');\n      setForm({ amount: '', type: 'deposit', note: '' });\n      fetchData(); // Refresh data\n    } catch (err) {\n      showNotification('Transaction failed', 'error');\n    }\n  };\n\n  if (loading) return <div>Loading...</div>;\n\n  return (\n    <div className=\"space-y-6\">\n      <h1 className=\"text-3xl font-bold\">Savings</h1>\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        <div className=\"md:col-span-2 space-y-6\">\n          <Card>\n            <h2 className=\"text-xl font-bold mb-4\">Savings History</h2>\n            <ul className=\"divide-y divide-gray-200\">\n              {history.map(item => (\n                <li key={item._id} className=\"py-4 flex justify-between items-center\">\n                  <div>\n                    <p className={`font-semibold ${item.type === 'deposit' ? 'text-green-600' : 'text-red-600'}`}>\n                      {item.type === 'deposit' ? 'Deposit' : 'Withdrawal'}\n                    </p>\n                    <p className=\"text-sm text-gray-500\">{item.note || '-'}</p>\n                  </div>\n                  <div className=\"text-right\">\n                    <p className=\"font-bold text-lg\">${item.amount.toFixed(2)}</p>\n                    <p className=\"text-sm text-gray-500\">{new Date(item.date).toLocaleDateString()}</p>\n                  </div>\n                </li>\n              ))}\n            </ul>\n          </Card>\n        </div>\n        <div className=\"space-y-6\">\n          <Card>\n            <h2 className=\"text-xl font-bold mb-2\">Current Savings</h2>\n            <p className=\"text-4xl font-bold text-blue-600\">${summary.totalSavings.toFixed(2)}</p>\n          </Card>\n          <Card>\n            <h2 className=\"text-xl font-bold mb-4\">New Transaction</h2>\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n              <div>\n                <label htmlFor=\"amount\" className=\"block text-sm font-medium text-gray-700\">Amount</label>\n                <input type=\"number\" name=\"amount\" id=\"amount\" value={form.amount} onChange={handleChange} className=\"mt-1 block w-full p-2 border rounded\" required />\n              </div>\n              <div>\n                <label htmlFor=\"type\" className=\"block text-sm font-medium text-gray-700\">Type</label>\n                <select name=\"type\" id=\"type\" value={form.type} onChange={handleChange} className=\"mt-1 block w-full p-2 border rounded\">\n                  <option value=\"deposit\">Deposit</option>\n                  <option value=\"withdrawal\">Withdrawal</option>\n                </select>\n              </div>\n              <div>\n                <label htmlFor=\"note\" className=\"block text-sm font-medium text-gray-700\">Note</label>\n                <input type=\"text\" name=\"note\" id=\"note\" value={form.note} onChange={handleChange} className=\"mt-1 block w-full p-2 border rounded\" />\n              </div>\n              <button type=\"submit\" className=\"w-full bg-teal-600 text-white py-2 rounded hover:bg-teal-700\">Submit</button>\n            </form>\n          </Card>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SavingsPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}